(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{130:function(e,a,t){},161:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(15),s=t.n(o),c=(t(130),t(16)),i=t(17),l=t.n(i);l.a.defaults.withCredentials=!0;const d="https://travel-app-01.herokuapp.com/api",j=async()=>await l.a.get("".concat(d,"/get-pins")),p=Object(c.b)("map/createNewPin",(async(e,{rejectWithValue:a})=>{try{const{data:a}=await(async e=>await l.a.post("".concat(d,"/create-pin"),e))(e);return a}catch(t){return a(t.response.data)}})),u=Object(c.b)("map/getPins",(async()=>{try{const{data:e}=await j();return e}catch(e){console.log(e.response.data.message)}})),m=Object(c.b)("map/getPin",(async(e,{rejectWithValue:a})=>{try{const{data:a}=await(async e=>await l.a.get("".concat(d,"/get-pin/").concat(e)))(e);return a}catch(t){return a(t.response.data)}})),g=Object(c.b)("map/getComments",(async(e,{rejectWithValue:a})=>{try{const{data:a}=await(async e=>await l.a.get("".concat(d,"/get-comments/").concat(e)))(e);return a}catch(t){return a(t.response.data)}})),b=Object(c.b)("map/createComment",(async(e,{rejectWithValue:a})=>{try{const{data:a}=await(async e=>await l.a.post("".concat(d,"/add-comment"),e))(e);return a}catch(t){return a(t.response.data)}})),h=Object(c.b)("map/removeComment",(async(e,{rejectWithValue:a})=>{try{const{data:a}=await(async e=>await l.a.delete("".concat(d,"/delete-comment/").concat(e.pinId,"/").concat(e.commentId)))(e);return a}catch(t){return a(t.response.data)}})),O=Object(c.b)("map/getRating",(async(e,{rejectWithValue:a})=>{try{const{data:a}=await(async e=>await l.a.get("".concat(d,"/get-rating/").concat(e)))(e);return a}catch(t){return a(t.response.data)}})),x=Object(c.b)("map/addRating",(async(e,{rejectWithValue:a})=>{try{const{data:a}=await(async e=>await l.a.post("".concat(d,"/add-rating"),e))(e);return a}catch(t){return a(t.response.data)}})),y=Object(c.b)("map/removeMarker",(async(e,{rejectWithValue:a})=>{try{await(async e=>await l.a.delete("".concat(d,"/delete-pin/").concat(e)))(e);const{data:a}=await j();return a}catch(t){return a(t.response.data)}})),v={viewport:{width:"100%",height:"100vh",latitude:42.526,longitude:15.2551,zoom:4,transitionInterpolator:"",transitionDuration:""},windowWidth:window.innerWidth,markers:[],currentMarker:null,loading:!1,error:!1,success:!0,pinId:null,currentPin:null,comments:[],rating:[]},w=Object(c.c)({name:"map",initialState:v,reducers:{setCurrentMarker:(e,{payload:a})=>{e.currentMarker=a},setViewport:(e,{payload:a})=>{e.viewport.latitude=a.latitude,e.viewport.longitude=a.longitude,e.viewport.zoom=a.zoom,e.viewport.transitionInterpolator=a.transitionInterpolator||"",e.viewport.transitionDuration=a.transitionDuration||""},setPinId:(e,{payload:a})=>{e.pinId=a},resetPinId:(e,{payload:a})=>{e.pinId=null},resetError:(e,{payload:a})=>{e.error=null},windowResizer:(e,{payload:a})=>{e.windowWidth=a}},extraReducers:{[p.pending]:(e,{payload:a})=>{e.loading=!0},[p.fulfilled]:(e,{payload:a})=>{e.loading=!1,e.success=!0,e.error=!1},[p.rejected]:(e,{payload:a})=>{e.loading=!1,e.error=a.message},[u.pending]:(e,{payload:a})=>{e.loading=!0},[u.fulfilled]:(e,{payload:a})=>{e.loading=!1,e.markers=a.pins},[u.rejected]:(e,{payload:a})=>{e.loading=!0,e.error=a,e.markers=[]},[m.pending]:(e,{payload:a})=>{e.loading=!0},[m.fulfilled]:(e,{payload:a})=>{e.loading=!1,e.currentPin=a.pin},[m.rejected]:(e,{payload:a})=>{e.loading=!1,e.error=a.message},[g.pending]:(e,{payload:a})=>{e.loading=!0},[g.fulfilled]:(e,{payload:a})=>{e.loading=!1,e.comments=a.comments.comments},[g.rejected]:(e,{payload:a})=>{e.loading=!1,e.error=a.message},[b.pending]:(e,{payload:a})=>{e.loading=!0},[b.fulfilled]:(e,{payload:a})=>{e.loading=!1,e.comments=a.comments.comments},[b.rejected]:(e,{payload:a})=>{e.loading=!1,e.error=a.message},[h.pending]:(e,{payload:a})=>{e.loading=!0},[h.fulfilled]:(e,{payload:a})=>{e.loading=!1,e.comments=a.comments.comments},[h.rejected]:(e,{payload:a})=>{e.loading=!1,e.error=a.message},[O.pending]:(e,{payload:a})=>{e.loading=!0},[O.fulfilled]:(e,{payload:a})=>{e.loading=!1,e.rating=a.rating.ratings},[O.rejected]:(e,{payload:a})=>{e.loading=!1,e.error=a.message},[x.pending]:(e,{payload:a})=>{e.loading=!0},[x.fulfilled]:(e,{payload:a})=>{e.loading=!1,e.rating=a.rating.ratings},[x.rejected]:(e,{payload:a})=>{e.loading=!1,e.error=a.message},[y.pending]:(e,{payload:a})=>{e.loading=!0},[y.fulfilled]:(e,{payload:a})=>{e.loading=!1,e.markers=a.pins},[y.rejected]:(e,{payload:a})=>{e.loading=!1,e.error=a.message}}}),{setCurrentMarker:f,setViewport:C,setPinId:k,resetPinId:N,resetError:I,windowResizer:W}=w.actions,S=e=>e.map;var M=w.reducer;const P=Object(c.c)({name:"modal",initialState:{loginModal:!1,registerModal:!1,aboutModal:!1},reducers:{openLoginModal:(e,{payload:a})=>{e.loginModal=!0},closeLoginModal:e=>{e.loginModal=!1},openRegisterModal:(e,{payload:a})=>{e.registerModal=!0},closeRegisterModal:e=>{e.registerModal=!1},openAboutModal:(e,{payload:a})=>{e.aboutModal=!0},closeAboutModal:e=>{e.aboutModal=!1}},extraReducers:{}}),{openLoginModal:D,openRegisterModal:E,closeLoginModal:z,closeRegisterModal:L,openAboutModal:V,closeAboutModal:R}=P.actions,B=e=>e.modal;var A=P.reducer;l.a.defaults.withCredentials=!0;const F="https://travel-app-01.herokuapp.com/api",T=Object(c.b)("auth/login",(async(e,{rejectWithValue:a})=>{try{const{data:a}=await(async e=>await l.a.post("".concat(F,"/login"),e))(e);return a}catch(t){return a(t.response.data)}})),H=Object(c.b)("auth/register",(async(e,{rejectWithValue:a})=>{try{const{data:a}=await(async e=>await l.a.post("".concat(F,"/register"),e))(e);return a}catch(t){return a(t.response.data)}})),Y=Object(c.b)("auth/logout",(async(e,{rejectWithValue:a})=>{try{const{data:e}=await(async()=>await l.a.post("".concat(F,"/logout")))();return e}catch(t){return a(t.response.data)}})),_=Object(c.b)("auth/getForgotPassword",(async(e,{rejectWithValue:a})=>{try{const{data:a}=await(async e=>await l.a.post("".concat(F,"/forgot-password"),{email:e}))(e);return a}catch(t){return a(t.response.data)}})),G=Object(c.b)("auth/resetPasswordValidation",(async(e,{rejectWithValue:a})=>{try{const{data:a}=await(async e=>await l.a.get("".concat(F,"/password-reset-validation/").concat(e)))(e);return a}catch(t){return a(t.response.data)}})),U=Object(c.b)("auth/createResetPassword",(async(e,{rejectWithValue:a})=>{try{const{data:a}=await(async e=>await l.a.post("".concat(F,"/password-reset-action"),e))(e);return a}catch(t){return a(t.response.data)}}));var Z=t(54);const J=new Z.a,K={user:J.get("user")?J.get("user"):null,loading:!1,error:null,message:null,resetPasswordSuccess:null,resetPasswordError:null},Q=Object(c.c)({name:"auth",initialState:K,reducers:{resetMessage:e=>{e.message=null},resetError:e=>{e.error=null}},extraReducers:{[T.pending]:(e,{payload:a})=>{e.loading=!0},[T.fulfilled]:(e,{payload:a})=>{e.loading=!1,e.user=a.user,e.message=a.message,a.error=null},[T.rejected]:(e,{payload:a})=>{e.loading=!1,a.errors?e.error=a.errors[0].msg:e.error=a.message},[Y.pending]:(e,{payload:a})=>{e.loading=!0},[Y.fulfilled]:(e,{payload:a})=>{e.loading=!1,e.message=a.message,e.user=null,a.error=null},[Y.rejected]:(e,{payload:a})=>{e.loading=!1,e.error=a},[H.pending]:(e,{payload:a})=>{e.loading=!0},[H.fulfilled]:(e,{payload:a})=>{e.loading=!1,e.message=a.message,a.error=null},[H.rejected]:(e,{payload:a})=>{e.loading=!1,a.errors?e.error=a.errors[0].msg:e.error=a.message},[_.pending]:(e,{payload:a})=>{e.loading=!0},[_.fulfilled]:(e,{payload:a})=>{e.loading=!1,e.message=a.message,a.error=null},[_.rejected]:(e,{payload:a})=>{e.loading=!1,e.error=a.message},[G.pending]:(e,{payload:a})=>{e.loading=!0},[G.fulfilled]:(e,{payload:a})=>{e.loading=!1,e.resetPasswordSuccess=a.message,a.resetPasswordError=null},[G.rejected]:(e,{payload:a})=>{e.loading=!1,e.resetPasswordError=a.message},[U.pending]:(e,{payload:a})=>{e.loading=!0},[U.fulfilled]:(e,{payload:a})=>{e.loading=!1,e.message=a.message,a.error=null},[U.rejected]:(e,{payload:a})=>{e.loading=!1,e.error=a.message}}}),{resetMessage:X,resetError:q}=Q.actions,$=e=>e.auth;var ee=Q.reducer;l.a.defaults.withCredentials=!0;const ae="https://travel-app-01.herokuapp.com/api",te=Object(c.b)("auth/addImages",(async(e,{rejectWithValue:a})=>{try{const{data:a}=await(async e=>await l.a.post("".concat(ae,"/upload-images"),e))(e);return a}catch(t){return a(t.response.data)}})),ne=Object(c.b)("auth/getImages",(async(e,{rejectWithValue:a})=>{try{const{data:a}=await(async e=>await l.a.get("".concat(ae,"/get-images/").concat(e)))(e);return a}catch(t){return a(t.response.data)}})),re=Object(c.b)("auth/removeImage",(async(e,{rejectWithValue:a})=>{try{const{data:a}=await(async e=>await l.a.delete("".concat(ae,"/delete-image"),{data:e}))(e);return a}catch(t){return a(t.response.data)}})),oe=Object(c.c)({name:"cloudinary",initialState:{images:[],loading:!1,error:!1},reducers:{returnError:(e,{payload:a})=>{e.error=a},resetError:(e,{payload:a})=>{e.error=null}},extraReducers:{[te.pending]:(e,{payload:a})=>{e.loading=!0},[te.fulfilled]:(e,{payload:a})=>{e.loading=!1,e.images=a.pinImages.images,e.error=!1},[te.rejected]:(e,{payload:a})=>{e.loading=!1,e.error=a.message},[ne.pending]:(e,{payload:a})=>{e.loading=!0},[ne.fulfilled]:(e,{payload:a})=>{e.loading=!1,e.images=a.pinImages.images?a.pinImages.images:[],e.error=!1},[ne.rejected]:(e,{payload:a})=>{e.loading=!1,e.error=a.message},[re.pending]:(e,{payload:a})=>{e.loading=!0},[re.fulfilled]:(e,{payload:a})=>{e.loading=!1,e.images=a.pinImages.images,e.error=!1},[re.rejected]:(e,{payload:a})=>{e.loading=!1,e.error=a.message}}}),{returnError:se,resetError:ce}=oe.actions,ie=e=>e.cloudinary;var le=oe.reducer;const de=Object(c.a)({reducer:{map:M,modal:A,auth:ee,cloudinary:le}});var je=t(9),pe=t(216),ue=t(219),me=t(218),ge=t(3);var be=()=>{const e=Object(je.c)($),{message:a}=e,t=Object(je.b)();return Object(ge.jsx)(ue.a,{open:a,autoHideDuration:6e3,onClose:()=>{t(X())},children:Object(ge.jsx)(me.a,{onClose:()=>{t(X())},severity:"success",children:a})})};var he=()=>{const e=Object(je.c)($),{error:a}=e,t=Object(je.b)();return Object(ge.jsx)(ue.a,{open:a,autoHideDuration:6e3,onClose:()=>t(q()),children:Object(ge.jsx)(me.a,{onClose:()=>t(q()),severity:"error",children:a})})},Oe=t(207),xe=t(163),ye=t(213),ve=t(45),we=t(104),fe=t.n(we),Ce=t(220);var ke=({viewport:e,long:a,lat:t,marker:n})=>{const r=Object(je.b)();let o={latitude:t,longitude:a,zoom:11,transitionInterpolator:new ve.a({speed:1.2}),transitionDuration:1e3};return Object(ge.jsx)(ve.b,{onClick:async()=>{await r(C(o)),setTimeout((()=>r(k(n._id))),1200)},latitude:t,longitude:a,offsetLeft:-3.5*e.zoom,offsetTop:-7*e.zoom,children:Object(ge.jsx)(Ce.a,{title:null===n||void 0===n?void 0:n.placeName,children:Object(ge.jsx)(fe.a,{style:{fontSize:7*e.zoom,color:"crimson",cursor:"pointer"}})})})},Ne=t(203);var Ie=Object(Ne.a)((e=>({toolBar:{minHeight:"40px"},menuButton:{margin:"1rem",display:"flex",width:"150px",fontWeight:"600",fontSize:"1rem"},mapPopup:{padding:e.spacing(2)},popupButton:{margin:e.spacing(2,"auto"),padding:e.spacing(1,3),display:"flex",width:"fit-content",fontWeight:"600",fontSize:"1rem"},input:{width:"350px",margin:e.spacing(2)},flexCenter:{display:"flex",flexDirection:"column",justifyContent:"center"},modalLink:{color:"#263238",fontWeight:"600",margin:e.spacing(0,1),"&:hover":{textDecoration:"underline",cursor:"pointer"}},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}))),We=t(221);var Se,Me,Pe,De,Ee,ze=({long:e,lat:a})=>{const t=Ie(),r=Object(je.b)(),o=()=>{r(f(null))},[s,c]=Object(n.useState)("");return Object(ge.jsx)(ve.c,{className:t.mapPopup,anchor:"left",latitude:a,longitude:e,closeOnClick:!1,onClose:()=>{o()},children:Object(ge.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),await r(p({long:e,lat:a,placeName:s})),o(),c(""),await r(u())},children:[Object(ge.jsx)(We.a,{label:"Place name",type:"text",values:s,onChange:e=>c(e.target.value)}),Object(ge.jsx)(Oe.a,{className:t.popupButton,type:"submit",variant:"contained",color:"primary",children:"Submit"})]})})},Le=t(209),Ve=t(210),Re=t(164),Be=t(211),Ae=t(58),Fe=t(59);const Te=Fe.a.button(Se||(Se=Object(Ae.a)(["\n  background-color: white;\n  color: ",";\n  font-size: 1em;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border: 2px solid ",";\n  border-radius: 3px;\n  width: 150px;\n\n  &:hover {\n    cursor: pointer;\n    background: ",";\n    color: white;\n  }\n"])),(e=>e.primary?"Black":"Crimson"),(e=>e.primary?"Black":"Crimson"),(e=>e.primary?"Black":"Crimson")),He=Fe.a.div(Me||(Me=Object(Ae.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),Ye=Fe.a.div(Pe||(Pe=Object(Ae.a)(["\n  display: ",";\n  margin: 10px 0;\n  padding: 10px;\n"])),(e=>Number(e.value)===e.number?"flex":"none")),_e=Fe.a.svg(De||(De=Object(Ae.a)(["\n  color: ",";\n  height: 20px;\n  width: 20px;\n  float: right;\n  margin: 0 5px;\n  &:hover {\n    cursor: pointer;\n    background-color: azure;\n  }\n"])),(e=>e.color)),Ge=Fe.a.div(Ee||(Ee=Object(Ae.a)(["\n  display: ",";\n  margin: 10px 0;\n  padding: 10px;\n  flex-direction: column;\n"])),(e=>e.show?"flex":"none"));var Ue=({show:e})=>{const[a,t]=Object(n.useState)(),r=Ie(),o=Object(je.b)();return Object(ge.jsxs)(Ge,{show:e,children:[Object(ge.jsx)("p",{style:{padding:"10px",color:"gray"},children:"Type your email in order to get password reset link"}),Object(ge.jsx)("form",{style:{display:"flex",justifyContent:"center"},children:Object(ge.jsx)(We.a,{fullWidth:!0,label:"Email",type:"email",variant:"standard",name:"email",value:a,onChange:e=>t(e.target.value),className:r.inputField})}),Object(ge.jsx)(Te,{onClick:async e=>{e.preventDefault(),o(_(a))},type:"submit",children:"Send"})]})},Ze=t(108),Je=t.n(Ze),Ke=t(208),Qe=t(201);var Xe=({handleClsoe:e})=>Object(ge.jsx)(Ke.a,{children:Object(ge.jsx)(Qe.a,{edge:"start",color:"inherit",onClick:e,"aria-label":"close",children:Object(ge.jsx)(Je.a,{})})});var qe=()=>{const e=new Z.a,a=Ie(),t=Object(je.b)(),r=Object(je.c)(B),o=Object(je.c)($),s=Object(je.c)(S),{loginModal:c}=r,{user:i,loading:l,message:d}=o,{windowWidth:j}=s,[p,u]=Object(n.useState)({username:"",password:""}),{username:m,password:g}=p,[b,h]=Object(n.useState)(!1),O=e=>{u({...p,[e.target.name]:e.target.value})},x=()=>{t(z())};return"Logged in succefully"===d&&(e.set("user",i),x()),Object(ge.jsxs)(Le.a,{onClose:x,open:c,fullScreen:j<600,children:[j<600&&Object(ge.jsx)(Xe,{handleClsoe:x}),Object(ge.jsx)(Ve.a,{children:Object(ge.jsx)(Re.a,{variant:"h6",align:"center",children:"Login"})}),Object(ge.jsxs)(Be.a,{children:[Object(ge.jsx)("form",{onSubmit:e=>{e.preventDefault(),t(T(p))},children:Object(ge.jsxs)("div",{className:a.flexCenter,children:[Object(ge.jsx)(We.a,{fullWidth:!0,label:"Username",name:"username",value:m,type:"text",variant:"standard",onChange:O,style:{margin:"5px auto"}}),Object(ge.jsx)(We.a,{fullWidth:!0,label:"Password",type:"password",variant:"standard",name:"password",value:g,onChange:O,style:{margin:"5px auto"}}),Object(ge.jsx)(Oe.a,{variant:"contained",color:"primary",type:"submit",className:a.popupButton,children:l?"Loading...":"Login"})]})}),Object(ge.jsxs)("p",{className:a.input,children:["Don't have an account?",Object(ge.jsx)("span",{onClick:()=>{t(z()),t(E())},className:a.modalLink,children:"Register"})]}),Object(ge.jsxs)("p",{className:a.input,children:["Can't login? click",Object(ge.jsx)("span",{onClick:()=>h(!b),className:a.modalLink,children:"Here"})]})]}),Object(ge.jsx)(Ue,{show:b})]})};var $e=()=>{const e=Ie(),a=Object(je.b)(),t=Object(je.c)(B),r=Object(je.c)($),{registerModal:o}=t,{message:s,loading:c}=r,[i,l]=Object(n.useState)({username:"",password:"",email:""}),{username:d,password:j,email:p}=i,u=e=>{l({...i,[e.target.name]:e.target.value})},m=()=>{a(L())};s&&m();const g=Object(je.c)(S),{windowWidth:b}=g;return Object(ge.jsxs)(Le.a,{onClose:m,open:o,fullScreen:b<600,children:[b<600&&Object(ge.jsx)(Xe,{handleClsoe:m}),Object(ge.jsx)(Ve.a,{children:Object(ge.jsx)(Re.a,{variant:"h6",align:"center",children:"Register"})}),Object(ge.jsxs)(Be.a,{children:[Object(ge.jsx)("form",{onSubmit:e=>{e.preventDefault(),a(H(i))},children:Object(ge.jsxs)("div",{className:e.flexCenter,children:[Object(ge.jsx)(We.a,{fullWidth:!0,label:"Username",type:"text",variant:"standard",name:"username",value:d,onChange:u,style:{margin:"5px auto"}}),Object(ge.jsx)(We.a,{fullWidth:!0,label:"Email",type:"email",variant:"standard",name:"email",value:p,onChange:u,style:{margin:"5px auto"}}),Object(ge.jsx)(We.a,{fullWidth:!0,label:"Password",type:"password",variant:"standard",name:"password",value:j,onChange:u,style:{margin:"5px auto"}}),Object(ge.jsx)(Oe.a,{variant:"contained",color:"primary",type:"submit",className:e.popupButton,children:c?"Loading...":"Register"})]})}),Object(ge.jsxs)("p",{className:e.input,children:["Already have account?",Object(ge.jsx)("span",{onClick:()=>{a(L()),a(D())},className:e.modalLink,children:"Login"})]})]})]})},ea=t(112),aa=t.n(ea),ta=t(214);var na=Object(Ne.a)((e=>({commentsDiv:{maxHeight:"350px",overflowY:"auto",padding:e.spacing(1),margin:e.spacing(1,0)},imagesDiv:{maxHeight:"500px",overflowY:"auto",width:"100%",padding:e.spacing(1),margin:e.spacing(1,0),display:"flex",flexWrap:"wrap"},imgDiv:{width:"100%",display:"flex",justifyContent:"center",padding:"5px"},img:{margin:"5px auto",maxWidth:"95%","&:hover":{cursor:"auto"}},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},badge:{position:"relative",marginRight:"15px",display:"flex","&:hover":{cursor:"pointer"}},header:{margin:e.spacing(4,0)}}))),ra=t(109),oa=t.n(ra),sa=t(162),ca=t(110),ia=t.n(ca);var la=({comment:e})=>{const{body:a,postedBy:t,createdAt:n,createdBy:r,_id:o}=e,s=Object(je.c)($),c=Object(je.c)(S),{pinId:i}=c,{user:l}=s,d=Object(je.b)();return Object(ge.jsxs)(sa.a,{style:{marginBottom:"15px",padding:"5px"},elevation:3,children:[Object(ge.jsx)(Re.a,{variant:"h6",children:"".concat(t,"'s comment:")}),Object(ge.jsx)(Re.a,{style:{margin:"5px 0"},variant:"subtitle1",children:a}),Object(ge.jsxs)(Re.a,{variant:"subtitle1",style:{color:"GrayText"},children:[oa()(n).format("MMMM Do YYYY"),(null===l||void 0===l?void 0:l._id)===r&&Object(ge.jsx)(_e,{onClick:()=>{if(window.confirm("Are you sure you wnat to delete this message?"))return d(h({pinId:i,commentId:o}))},color:"crimson",children:Object(ge.jsx)(ia.a,{})})]})]})};var da=()=>{const e=Ie(),[a,t]=Object(n.useState)(""),r=Object(je.b)(),o=Object(je.c)(S),{pinId:s}=o;return Object(ge.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r(b({pinId:s,body:a}))},children:[Object(ge.jsx)(We.a,{className:e.inputField,type:"text",placeholder:"Comment",value:a,onChange:e=>t(e.target.value)}),Object(ge.jsx)(Te,{type:"submit",primary:!0,children:"Submit"})]})},ja=t(111),pa=t.n(ja);var ua=()=>{const e=Object(je.b)(),[a,t]=Object(n.useState)(""),r=Object(je.c)(S),{pinId:o,loading:s}=r,c=async a=>{await e(te({image:a,pinId:o}))};return Object(ge.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),a.length>3)return e(se("Please don't uplaod more than 3 images at once."));if(a)for(let e=0;e<a.length;e++)pa.a.imageFileResizer(a[e],500,500,"auto",100,0,(e=>{c(e)}),"base64")},children:[Object(ge.jsx)("input",{style:{fontSize:"15px",display:"flex",padding:"10px 20px"},type:"file",accept:"image/*",name:"imagetoUpload",multiple:!0,onChange:e=>{t(e.target.files)}}),Object(ge.jsx)(Te,{primary:!0,children:s?"Loading...":"Submit"})]})},ma=t(212),ga=t(206),ba=t(223),ha=t(217),Oa=t(224);var xa=()=>{const e=Ie(),a=Object(je.b)(),[t,r]=Object(n.useState)(""),o=Object(je.c)(S),{pinId:s}=o;return Object(ge.jsx)("form",{onSubmit:e=>{e.preventDefault(),a(x({pinId:s,value:t}))},children:Object(ge.jsxs)(ga.a,{children:[Object(ge.jsx)(ba.a,{id:"demo-simple-select-label",children:"Rate"}),Object(ge.jsxs)(ha.a,{className:e.inputField,labelId:"demo-simple-select-label",id:"demo-simple-select",value:t,onChange:e=>{r(e.target.value)},children:[Object(ge.jsx)(Oa.a,{value:1,children:"1"}),Object(ge.jsx)(Oa.a,{value:2,children:"2"}),Object(ge.jsx)(Oa.a,{value:3,children:"3"}),Object(ge.jsx)(Oa.a,{value:4,children:"4"}),Object(ge.jsx)(Oa.a,{value:5,children:"5"})]}),Object(ge.jsx)(Te,{type:"submit",primary:!0,children:"Submit"})]})})};var ya=()=>{const[e,a]=Object(n.useState)(0),t=Object(je.c)($),{user:r}=t,o=e=>{a(e.target.value)};return Object(ge.jsxs)(He,{children:[r?Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsxs)("div",{children:[Object(ge.jsx)(Te,{onClick:o,value:1,children:"Add comment"}),Object(ge.jsx)(Te,{onClick:o,value:2,children:"Add photo"}),Object(ge.jsx)(Te,{onClick:o,value:3,children:"Add rating"})]}),Object(ge.jsx)(ma.a,{})]}):Object(ge.jsx)(Re.a,{style:{margin:"10px 0",padding:"10px",color:"GrayText"},variant:"subtitle1",children:"Only logged in users are able to add comments/photos/rating."}),Object(ge.jsxs)("div",{children:[Object(ge.jsx)(Ye,{value:e,number:1,children:Object(ge.jsx)(da,{})}),Object(ge.jsx)(Ye,{value:e,number:2,children:Object(ge.jsx)(ua,{})}),Object(ge.jsx)(Ye,{value:e,number:3,children:Object(ge.jsx)(xa,{})})]})]})},va=t(225);var wa=()=>{const e=na(),a=Object(je.c)(S),t=Object(je.c)($),r=Object(je.c)(ie),{pinId:o,loading:s,currentPin:c,comments:i,rating:l,windowWidth:d}=a,{user:j}=t,{loading:p,images:u}=r,b=Object(je.b)();Object(n.useEffect)((()=>null!==o&&b(m(o))),[o]),Object(n.useEffect)((()=>null!==o&&b(g(o))),[o]),Object(n.useEffect)((()=>null!==o&&b(ne(o))),[o]),Object(n.useEffect)((()=>null!==o&&b(O(o))),[o]);const h=function(){const e=l.map((e=>e.value));return e.reduce(((e,a)=>e+a))/e.length};return s||p?Object(ge.jsx)(xe.a,{className:e.backdrop,open:s||p,children:Object(ge.jsx)(ye.a,{color:"inherit"})}):Object(ge.jsxs)(Le.a,{onClose:()=>b(N()),open:o,fullScreen:d<600,children:[d<600&&Object(ge.jsx)(Xe,{handleClsoe:()=>b(N())}),Object(ge.jsxs)(Ve.a,{className:e.modal,children:[Object(ge.jsxs)(Re.a,{variant:"h5",style:{display:"flex",alignItems:"center"},children:[Object(ge.jsxs)("span",{style:{flex:1},children:[" ",null===c||void 0===c?void 0:c.placeName]}),Object(ge.jsx)(va.a,{name:"simple-controlled",value:l&&l.length>0?h().toFixed(1):0,readOnly:!0,precision:.5}),Object(ge.jsx)("span",{style:{marginLeft:"7px"},children:"(".concat(l&&l.length>0?h().toFixed(1):"No ratings",")")})]}),l&&l.length&&Object(ge.jsx)(Re.a,{style:{float:"right",color:"GrayText"},variant:"subtitle1",children:"from ".concat(l.length," ratings")})]}),j&&"admin"===j.role&&Object(ge.jsx)(Te,{style:{width:"200px"},variant:"contained",fullWidth:!0,onClick:async()=>{window.confirm("Are you sure you wnat to delete this marker?")&&(await b(y(o)),b(N()))},children:"Delete this marker"}),Object(ge.jsx)("div",{className:e.imagesDiv,children:(null===u||void 0===u?void 0:u.length)>0?u.map(((a,t)=>Object(ge.jsx)("div",{className:e.imgDiv,children:(null===j||void 0===j?void 0:j._id)===a.createdBy?Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)("img",{className:e.img,src:a.url},t),Object(ge.jsx)(ta.a,{onClick:()=>b(re({pinId:o,public_id:a.public_id})),className:e.badge,badgeContent:"Delete",color:"error"})]}):Object(ge.jsx)("img",{className:e.img,src:a.url},t)}))):Object(ge.jsx)("p",{children:"No images yet."})}),Object(ge.jsx)("div",{className:e.commentsDiv,children:(null===i||void 0===i?void 0:i.length)>0?i.map(((e,a)=>Object(ge.jsx)(la,{comment:e},a))):Object(ge.jsx)("p",{children:"No comments yet."})}),Object(ge.jsx)(ya,{})]})};var fa=()=>{const e=Object(je.b)(),a=Object(je.c)(S),{error:t}=a;return Object(ge.jsx)(ue.a,{open:t,autoHideDuration:6e3,onClose:()=>e(I()),children:Object(ge.jsx)(me.a,{onClose:()=>e(I()),severity:"error",children:t})})};var Ca=()=>{const e=Object(je.b)(),a=Object(je.c)(ie),{error:t}=a;return Object(ge.jsx)(ue.a,{open:t,autoHideDuration:6e3,onClose:()=>e(ce()),children:Object(ge.jsx)(me.a,{onClose:()=>e(ce()),severity:"error",children:t})})};var ka=()=>{const e=Object(je.b)(),a=Object(je.c)(B),{aboutModal:t}=a,n=na(),r=Object(je.c)(S),{windowWidth:o}=r,s=()=>{e(R())};return Object(ge.jsxs)(Le.a,{open:t,onClose:s,fullScreen:o<600,children:[o<600&&Object(ge.jsx)(Xe,{handleClsoe:s}),Object(ge.jsx)(Re.a,{variant:"h4",align:"center",className:n.header,children:"Travel-App 101"}),Object(ge.jsx)(Re.a,{variant:"h6",align:"center",style:{padding:"7px"},children:"Have you ever wanted to share your favorite places with the world? Comment, upload images, or rate places you have been to? now it's all possible with Mike's travel app!"}),Object(ge.jsxs)("div",{style:{padding:"10px"},children:[Object(ge.jsx)("p",{children:"1. View all the places in the world by clicking on the markers on the map."}),Object(ge.jsx)("p",{children:"2. Register a new account and loggin to be able to create new markers!"}),Object(ge.jsx)("p",{children:"3. Creating a marker is done by double clicking the map, choose a place you want to mark and just double click it! (make sure you logged in)"}),Object(ge.jsx)("p",{children:"4. You can post comments ratings and images on other people's markers as well."}),Object(ge.jsx)("p",{children:"5. Don't worry you can delete your comments and photos later if you change your mind..."}),Object(ge.jsx)("p",{children:"6. Enjoy your time."}),Object(ge.jsx)("p",{style:{color:"gray",marginTop:"15px"},children:"Please note that if needed the admim can delete any marker on the map and all the images and comments will be deleted too.."})]})]})};t(157);var Na=function(){const e=Object(je.b)(),a=Ie(),t=new Z.a,r=Object(je.c)(S),o=Object(je.c)($),{user:s,loading:c}=o,{currentMarker:i,markers:l,viewport:d,loading:j}=r;return Object(n.useEffect)((()=>e(u())),[]),Object(ge.jsx)(ge.Fragment,{children:Object(ge.jsxs)(ve.d,{onDblClick:a=>(a=>{s&&e(f({long:a.lngLat[0],lat:a.lngLat[1]}))})(a),...d,mapboxApiAccessToken:"pk.eyJ1IjoibWljaGFlbDE5OTRkIiwiYSI6ImNrbzcwdDVycTBrZXUycHBkYWZkczluc3EifQ.PZCZLHv0WlK_AKdI3pInuw",mapStyle:"mapbox://styles/mapbox/streets-v11",onViewportChange:a=>e(C(a)),children:[i&&Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(ke,{viewport:d,long:Number(i.long),lat:Number(i.lat)}),Object(ge.jsx)(ze,{long:Number(i.long),lat:Number(i.lat)})]}),l.length>0&&l.map(((e,a)=>Object(ge.jsx)(ke,{viewport:d,long:Number(e.long),lat:Number(e.lat),marker:e},a))),s?Object(ge.jsx)(Oe.a,{className:a.menuButton,variant:"contained",color:"primary",onClick:async()=>{await e(Y()),t.remove("user")},endIcon:Object(ge.jsx)(aa.a,{}),children:"Logout"}):Object(ge.jsx)(Oe.a,{className:a.menuButton,variant:"contained",color:"primary",onClick:()=>e(D()),children:"login"}),Object(ge.jsx)(Oe.a,{className:a.menuButton,variant:"contained",color:"secondary",onClick:()=>e(V()),children:"About"}),Object(ge.jsx)(qe,{}),Object(ge.jsx)($e,{}),Object(ge.jsx)(wa,{}),Object(ge.jsx)(ka,{}),Object(ge.jsx)(xe.a,{className:a.backdrop,open:c||j,children:Object(ge.jsx)(ye.a,{color:"inherit"})}),Object(ge.jsx)(fa,{}),Object(ge.jsx)(Ca,{})]})})},Ia=t(113);var Wa=Object(Ia.a)({palette:{primary:{main:"#000000"},secondary:{main:"#DC143C"}}}),Sa=t(79),Ma=t(21),Pa=t(215);var Da=()=>{const e=Ie(),a=Object(je.b)(),t=Object(je.c)($),{resetPasswordSuccess:r,resetPasswordError:o,loading:s,error:c,message:i}=t,l=Object(Ma.f)(),{token:d}=l,[j,p]=Object(n.useState)({password:"",confirmPassword:""}),{password:u,confirmPassword:m}=j,g=e=>{p({...j,[e.target.name]:e.target.value})};return Object(n.useEffect)((()=>a(G(d))),[]),Object(ge.jsx)("div",{children:Object(ge.jsxs)(Pa.a,{maxWidth:"sm",children:[Object(ge.jsx)(Re.a,{variant:"h5",align:"center",style:{margin:"20px 0"},children:"Reset password page"}),s&&Object(ge.jsx)(xe.a,{className:e.backdrop,open:s,children:Object(ge.jsx)(ye.a,{color:"inherit"})}),r&&Object(ge.jsx)("form",{onSubmit:async e=>{e.preventDefault(),await a(U({password:u,confirmPassword:m,resetPasswordToken:d}))},children:Object(ge.jsxs)(He,{children:[Object(ge.jsx)(Re.a,{variant:"subtitle1",align:"center",style:{margin:"20px 0",color:"green"},children:r}),Object(ge.jsx)(We.a,{fullWidth:!0,label:"New Password",type:"password",variant:"standard",name:"password",value:u,onChange:g,className:e.inputField}),Object(ge.jsx)(We.a,{fullWidth:!0,label:"Confirm Password",type:"password",variant:"standard",name:"confirmPassword",value:m,onChange:g,className:e.inputField}),Object(ge.jsx)(Te,{style:{margin:"20px auto"},primary:!0,type:"submit",children:"Submit"})]})}),(()=>{if(c)return Object(ge.jsx)(Re.a,{variant:"subtitle1",align:"center",style:{margin:"20px 0",color:"red"},children:c})})(),(()=>{if(i)return Object(ge.jsx)(Re.a,{variant:"subtitle1",align:"center",style:{margin:"20px 0",color:"green"},children:i})})(),o&&Object(ge.jsx)(Re.a,{variant:"subtitle1",align:"center",style:{margin:"20px 0",color:"red"},children:o})]})})};var Ea=()=>{const e=Object(je.b)(),a=()=>e(W(window.innerWidth));return Object(n.useEffect)((()=>(window.addEventListener("resize",a),()=>window.removeEventListener("resize",a))),[]),Object(ge.jsx)(Sa.a,{children:Object(ge.jsxs)(pe.a,{theme:Wa,children:[Object(ge.jsxs)(Ma.c,{children:[Object(ge.jsx)(Ma.a,{path:"/",exact:!0,component:Na}),Object(ge.jsx)(Ma.a,{path:"/password-reset/:token",exact:!0,component:Da})]}),Object(ge.jsx)(be,{}),Object(ge.jsx)(he,{})]})})};s.a.render(Object(ge.jsx)(r.a.StrictMode,{children:Object(ge.jsx)(je.a,{store:de,children:Object(ge.jsx)(Ea,{})})}),document.getElementById("root"))}},[[161,1,2]]]);
//# sourceMappingURL=main.8f3ba48d.chunk.js.map