{"version":3,"sources":["redux/api/map.js","redux/actions/markerActions.js","redux/reducers/mapSlice.js","redux/reducers/modalSlice.js","redux/api/auth.js","redux/actions/authActions.js","redux/reducers/authSlice.js","redux/api/cloudinary.js","redux/actions/cloudinaryActions.js","redux/reducers/cloudinarySlice.js","redux/store.js","components/snackBars/SuccessMessage.jsx","components/snackBars/ErrorMessage.jsx","components/MapMarker.jsx","styles.js","components/NewMarkerPopup.jsx","styled.js","components/ResetPasswordForm.jsx","components/modals/ModalToolbar.jsx","components/modals/Login.jsx","components/modals/Register.jsx","components/modals/styles.js","components/Comment.jsx","components/tabs/CommentForm.jsx","components/tabs/ImagesUpload.jsx","components/tabs/AddRating.jsx","components/Tabs.jsx","components/modals/PinModel.jsx","components/snackBars/MapErrorMessage.jsx","components/snackBars/CloudinaryErrorMessage.jsx","components/modals/About.jsx","Map.jsx","theme.js","pages/PasswordReset.jsx","App.jsx","index.js"],"names":["axios","defaults","withCredentials","server_url","process","createPin","obj","a","post","fetchPins","get","fetchPin","id","fetchComments","pinId","addComment","deleteComment","delete","commentId","fetchRating","Rate","deleteMarker","createNewPin","createAsyncThunk","rejectWithValue","data","response","getPins","console","log","message","getPin","getComments","createComment","removeComment","getRating","addRating","removeMarker","initialState","viewport","width","height","latitude","longitude","zoom","transitionInterpolator","transitionDuration","windowWidth","window","innerWidth","markers","currentMarker","loading","error","success","currentPin","comments","rating","mapSlice","createSlice","name","reducers","setCurrentMarker","state","payload","setViewport","setPinId","resetPinId","resetError","windowResizer","extraReducers","pending","fulfilled","rejected","pins","pin","ratings","actions","mapState","map","modalSlice","loginModal","registerModal","aboutModal","openLoginModal","closeLoginModal","openRegisterModal","closeRegisterModal","openAboutModal","closeAboutModal","modalState","modal","loginUser","registerUser","logoutUser","forgotPassword","email","resetPasswordValidator","token","resetPasswordAction","login","register","logout","getForgotPassword","resetPasswordValidation","createResetPassword","cookies","Cookies","user","resetPasswordSuccess","resetPasswordError","authSlice","resetMessage","errors","msg","authState","auth","uploadImages","getPinImages","deleteImage","addImages","getImages","removeImage","cloudinarySlice","images","returnError","pinImages","cloudinaryState","cloudinary","store","configureStore","reducer","mapReducer","modalReducer","authReducer","cloudinaryReducer","SuccessMessage","useSelector","dispatch","useDispatch","Snackbar","open","autoHideDuration","onClose","Alert","severity","ErrorMessage","MapMarker","long","lat","marker","viewportOBJ","handleClick","setTimeout","_id","onClick","offsetLeft","offsetTop","Tooltip","title","placeName","style","fontSize","color","cursor","styles","makeStyles","theme","toolBar","minHeight","menuButton","margin","display","fontWeight","mapPopup","padding","spacing","popupButton","inputField","maxWidth","flexCenter","flexDirection","justifyContent","modalLink","textDecoration","backdrop","zIndex","drawer","NewMarkerPopup","classes","handleClose","useState","setPlaceName","handleSubmit","e","preventDefault","className","anchor","closeOnClick","onSubmit","TextField","label","type","values","onChange","target","value","Button","variant","StyledButton","styled","button","props","primary","FlexDiv","div","HiddenDiv","Number","number","Icon","svg","HiddenForm","show","ResetPasswordForm","setEmail","fullWidth","ModalToolbar","handleClsoe","Toolbar","IconButton","edge","aria-label","Login","modals","username","password","setValues","showPasswordReset","setShowPasswordReset","handleChange","set","Dialog","fullScreen","DialogTitle","Typography","align","Register","commentsDiv","maxHeight","overflowY","imagesDiv","flexWrap","imgDiv","img","badge","position","marginRight","header","Comment","comment","body","postedBy","createdAt","createdBy","Paper","marginBottom","elevation","moment","format","confirm","CommentForm","setComment","placeholder","ImagesUpload","files","setFiles","dispatchImageUpload","uri","image","length","i","Resizer","imageFileResizer","accept","multiple","AddRating","setRating","FormControl","InputLabel","Select","labelId","MenuItem","TabsMenu","setValue","Divider","PinModel","loadingImages","useEffect","ratingAverage","r","reduce","accumulator","currentValue","confirmDeleteMarker","Backdrop","CircularProgress","alignItems","flex","Rating","toFixed","readOnly","precision","marginLeft","float","role","src","url","Badge","public_id","badgeContent","c","Tabs","MapErrorMessage","CloudinaryErrorMessage","About","marginTop","Map","authLoading","mapLoading","handleLogout","remove","onDblClick","lngLat","handleNewClick","mapboxApiAccessToken","mapStyle","onViewportChange","nextViewport","m","endIcon","createMuiTheme","palette","main","secondary","PasswordReset","useParams","confirmPassword","setvalues","resetPasswordToken","Container","displayError","displaySuccess","App","handleResize","addEventListener","removeEventListener","ThemeProvider","path","exact","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2634060c.chunk.js","sourcesContent":["import axios from 'axios'\r\naxios.defaults.withCredentials = true\r\nconst server_url = process.env.REACT_APP_SERVER_URL\r\n\r\nexport const createPin = async (obj) =>\r\n  await axios.post(`${server_url}/create-pin`, obj)\r\n\r\nexport const fetchPins = async () => await axios.get(`${server_url}/get-pins`)\r\n\r\nexport const fetchPin = async (id) =>\r\n  await axios.get(`${server_url}/get-pin/${id}`)\r\n\r\nexport const fetchComments = async (pinId) =>\r\n  await axios.get(`${server_url}/get-comments/${pinId}`)\r\n\r\nexport const addComment = async (obj) =>\r\n  await axios.post(`${server_url}/add-comment`, obj)\r\n\r\nexport const deleteComment = async (obj) =>\r\n  await axios.delete(\r\n    `${server_url}/delete-comment/${obj.pinId}/${obj.commentId}`\r\n  )\r\n\r\nexport const fetchRating = async (pinId) =>\r\n  await axios.get(`${server_url}/get-rating/${pinId}`)\r\n\r\nexport const Rate = async (obj) =>\r\n  await axios.post(`${server_url}/add-rating`, obj)\r\n\r\nexport const deleteMarker = async (id) =>\r\n  await axios.delete(`${server_url}/delete-pin/${id}`)\r\n","import { createAsyncThunk } from '@reduxjs/toolkit'\r\nimport {\r\n  addComment,\r\n  createPin,\r\n  fetchComments,\r\n  fetchPin,\r\n  fetchPins,\r\n  deleteComment,\r\n  fetchRating,\r\n  Rate,\r\n  deleteMarker,\r\n} from '../api/map'\r\n\r\nexport const createNewPin = createAsyncThunk(\r\n  'map/createNewPin',\r\n  async (obj, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await createPin(obj)\r\n      return data\r\n    } catch (error) {\r\n      return rejectWithValue(error.response.data)\r\n    }\r\n  }\r\n)\r\n\r\nexport const getPins = createAsyncThunk('map/getPins', async () => {\r\n  try {\r\n    const { data } = await fetchPins()\r\n    return data\r\n  } catch (error) {\r\n    console.log(error.response.data.message)\r\n  }\r\n})\r\n\r\nexport const getPin = createAsyncThunk(\r\n  'map/getPin',\r\n  async (id, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await fetchPin(id)\r\n      return data\r\n    } catch (error) {\r\n      return rejectWithValue(error.response.data)\r\n    }\r\n  }\r\n)\r\n\r\nexport const getComments = createAsyncThunk(\r\n  'map/getComments',\r\n  async (pinId, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await fetchComments(pinId)\r\n      return data\r\n    } catch (error) {\r\n      return rejectWithValue(error.response.data)\r\n    }\r\n  }\r\n)\r\n\r\nexport const createComment = createAsyncThunk(\r\n  'map/createComment',\r\n  async (obj, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await addComment(obj)\r\n      return data\r\n    } catch (error) {\r\n      return rejectWithValue(error.response.data)\r\n    }\r\n  }\r\n)\r\n\r\nexport const removeComment = createAsyncThunk(\r\n  'map/removeComment',\r\n  async (obj, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await deleteComment(obj)\r\n      return data\r\n    } catch (error) {\r\n      return rejectWithValue(error.response.data)\r\n    }\r\n  }\r\n)\r\n\r\nexport const getRating = createAsyncThunk(\r\n  'map/getRating',\r\n  async (pinId, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await fetchRating(pinId)\r\n      return data\r\n    } catch (error) {\r\n      return rejectWithValue(error.response.data)\r\n    }\r\n  }\r\n)\r\n\r\nexport const addRating = createAsyncThunk(\r\n  'map/addRating',\r\n  async (obj, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await Rate(obj)\r\n      return data\r\n    } catch (error) {\r\n      return rejectWithValue(error.response.data)\r\n    }\r\n  }\r\n)\r\n\r\nexport const removeMarker = createAsyncThunk(\r\n  'map/removeMarker',\r\n  async (id, { rejectWithValue }) => {\r\n    try {\r\n      await deleteMarker(id)\r\n      const { data } = await fetchPins()\r\n      return data\r\n    } catch (error) {\r\n      return rejectWithValue(error.response.data)\r\n    }\r\n  }\r\n)\r\n","import { createSlice } from '@reduxjs/toolkit'\r\nimport {\r\n  createNewPin,\r\n  getPins,\r\n  getPin,\r\n  getComments,\r\n  createComment,\r\n  removeComment,\r\n  getRating,\r\n  addRating,\r\n  removeMarker,\r\n} from '../actions/markerActions'\r\n\r\nconst initialState = {\r\n  viewport: {\r\n    width: '100%',\r\n    height: '100vh',\r\n    latitude: 42.526,\r\n    longitude: 15.2551,\r\n    zoom: 4,\r\n    transitionInterpolator: '',\r\n    transitionDuration: '',\r\n  },\r\n  windowWidth: window.innerWidth,\r\n  markers: [],\r\n  currentMarker: null,\r\n  loading: false,\r\n  error: false,\r\n  success: true,\r\n  pinId: null,\r\n  currentPin: null,\r\n  comments: [],\r\n  rating: [],\r\n}\r\n\r\nexport const mapSlice = createSlice({\r\n  name: 'map',\r\n  initialState,\r\n  reducers: {\r\n    setCurrentMarker: (state, { payload }) => {\r\n      state.currentMarker = payload\r\n    },\r\n    setViewport: (state, { payload }) => {\r\n      state.viewport.latitude = payload.latitude\r\n      state.viewport.longitude = payload.longitude\r\n      state.viewport.zoom = payload.zoom\r\n      state.viewport.transitionInterpolator =\r\n        payload.transitionInterpolator || ''\r\n      state.viewport.transitionDuration = payload.transitionDuration || ''\r\n    },\r\n    setPinId: (state, { payload }) => {\r\n      state.pinId = payload\r\n    },\r\n    resetPinId: (state, { payload }) => {\r\n      state.pinId = null\r\n    },\r\n    resetError: (state, { payload }) => {\r\n      state.error = null\r\n    },\r\n    windowResizer: (state, { payload }) => {\r\n      state.windowWidth = payload\r\n    },\r\n  },\r\n  extraReducers: {\r\n    //create new pin\r\n    [createNewPin.pending]: (state, { payload }) => {\r\n      state.loading = true\r\n    },\r\n    [createNewPin.fulfilled]: (state, { payload }) => {\r\n      state.loading = false\r\n      state.success = true\r\n      state.error = false\r\n    },\r\n    [createNewPin.rejected]: (state, { payload }) => {\r\n      state.loading = false\r\n      state.error = payload.message\r\n    },\r\n\r\n    //get pins\r\n    [getPins.pending]: (state, { payload }) => {\r\n      state.loading = true\r\n    },\r\n    [getPins.fulfilled]: (state, { payload }) => {\r\n      state.loading = false\r\n      state.markers = payload.pins\r\n    },\r\n    [getPins.rejected]: (state, { payload }) => {\r\n      state.loading = true\r\n      state.error = payload\r\n      state.markers = []\r\n    },\r\n\r\n    //get pin\r\n    [getPin.pending]: (state, { payload }) => {\r\n      state.loading = true\r\n    },\r\n    [getPin.fulfilled]: (state, { payload }) => {\r\n      state.loading = false\r\n      state.currentPin = payload.pin\r\n    },\r\n    [getPin.rejected]: (state, { payload }) => {\r\n      state.loading = false\r\n      state.error = payload.message\r\n    },\r\n\r\n    //get comments\r\n    [getComments.pending]: (state, { payload }) => {\r\n      state.loading = true\r\n    },\r\n    [getComments.fulfilled]: (state, { payload }) => {\r\n      state.loading = false\r\n      state.comments = payload.comments.comments\r\n    },\r\n    [getComments.rejected]: (state, { payload }) => {\r\n      state.loading = false\r\n      state.error = payload.message\r\n    },\r\n\r\n    //create new comment\r\n    [createComment.pending]: (state, { payload }) => {\r\n      state.loading = true\r\n    },\r\n    [createComment.fulfilled]: (state, { payload }) => {\r\n      state.loading = false\r\n      state.comments = payload.comments.comments\r\n    },\r\n    [createComment.rejected]: (state, { payload }) => {\r\n      state.loading = false\r\n      state.error = payload.message\r\n    },\r\n\r\n    //create new comment\r\n    [removeComment.pending]: (state, { payload }) => {\r\n      state.loading = true\r\n    },\r\n    [removeComment.fulfilled]: (state, { payload }) => {\r\n      state.loading = false\r\n      state.comments = payload.comments.comments\r\n    },\r\n    [removeComment.rejected]: (state, { payload }) => {\r\n      state.loading = false\r\n      state.error = payload.message\r\n    },\r\n\r\n    //get rating\r\n    [getRating.pending]: (state, { payload }) => {\r\n      state.loading = true\r\n    },\r\n    [getRating.fulfilled]: (state, { payload }) => {\r\n      state.loading = false\r\n      state.rating = payload.rating.ratings\r\n    },\r\n    [getRating.rejected]: (state, { payload }) => {\r\n      state.loading = false\r\n      state.error = payload.message\r\n    },\r\n\r\n    //add rating\r\n    [addRating.pending]: (state, { payload }) => {\r\n      state.loading = true\r\n    },\r\n    [addRating.fulfilled]: (state, { payload }) => {\r\n      state.loading = false\r\n      state.rating = payload.rating.ratings\r\n    },\r\n    [addRating.rejected]: (state, { payload }) => {\r\n      state.loading = false\r\n      state.error = payload.message\r\n    },\r\n\r\n    //remove marker\r\n    //add rating\r\n    [removeMarker.pending]: (state, { payload }) => {\r\n      state.loading = true\r\n    },\r\n    [removeMarker.fulfilled]: (state, { payload }) => {\r\n      state.loading = false\r\n      state.markers = payload.pins\r\n    },\r\n    [removeMarker.rejected]: (state, { payload }) => {\r\n      state.loading = false\r\n      state.error = payload.message\r\n    },\r\n  },\r\n})\r\n\r\nexport const {\r\n  setCurrentMarker,\r\n  setViewport,\r\n  setPinId,\r\n  resetPinId,\r\n  resetError,\r\n  windowResizer,\r\n} = mapSlice.actions\r\n\r\n//selectors\r\nexport const mapState = (state) => state.map\r\nexport const currentMarkerSelector = (state) => state.map.currentMarker\r\n\r\nexport default mapSlice.reducer\r\n","import { createSlice } from '@reduxjs/toolkit'\r\n\r\nconst initialState = {\r\n  loginModal: false,\r\n  registerModal: false,\r\n  aboutModal: false,\r\n}\r\n\r\nexport const modalSlice = createSlice({\r\n  name: 'modal',\r\n  initialState,\r\n  reducers: {\r\n    openLoginModal: (state, { payload }) => {\r\n      state.loginModal = true\r\n    },\r\n    closeLoginModal: (state) => {\r\n      state.loginModal = false\r\n    },\r\n\r\n    openRegisterModal: (state, { payload }) => {\r\n      state.registerModal = true\r\n    },\r\n    closeRegisterModal: (state) => {\r\n      state.registerModal = false\r\n    },\r\n\r\n    openAboutModal: (state, { payload }) => {\r\n      state.aboutModal = true\r\n    },\r\n    closeAboutModal: (state) => {\r\n      state.aboutModal = false\r\n    },\r\n  },\r\n  extraReducers: {},\r\n})\r\n\r\nexport const {\r\n  openLoginModal,\r\n  openRegisterModal,\r\n  closeLoginModal,\r\n  closeRegisterModal,\r\n  openAboutModal,\r\n  closeAboutModal,\r\n} = modalSlice.actions\r\n\r\nexport const modalState = (state) => state.modal\r\nexport default modalSlice.reducer\r\n","import axios from 'axios'\r\naxios.defaults.withCredentials = true\r\nconst server_url = process.env.REACT_APP_SERVER_URL\r\n\r\nexport const loginUser = async (obj) =>\r\n  await axios.post(`${server_url}/login`, obj)\r\n\r\nexport const registerUser = async (obj) =>\r\n  await axios.post(`${server_url}/register`, obj)\r\n\r\nexport const logoutUser = async () => await axios.post(`${server_url}/logout`)\r\n\r\nexport const forgotPassword = async (email) =>\r\n  await axios.post(`${server_url}/forgot-password`, { email })\r\n\r\nexport const resetPasswordValidator = async (token) =>\r\n  await axios.get(`${server_url}/password-reset-validation/${token}`)\r\n\r\nexport const resetPasswordAction = async (obj) =>\r\n  await axios.post(`${server_url}/password-reset-action`, obj)\r\n","import { createAsyncThunk } from '@reduxjs/toolkit'\r\nimport {\r\n  forgotPassword,\r\n  loginUser,\r\n  logoutUser,\r\n  registerUser,\r\n  resetPasswordAction,\r\n  resetPasswordValidator,\r\n} from '../api/auth'\r\n\r\nexport const login = createAsyncThunk(\r\n  'auth/login',\r\n  async (obj, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await loginUser(obj)\r\n      return data\r\n    } catch (error) {\r\n      return rejectWithValue(error.response.data)\r\n    }\r\n  }\r\n)\r\n\r\nexport const register = createAsyncThunk(\r\n  'auth/register',\r\n  async (obj, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await registerUser(obj)\r\n      return data\r\n    } catch (error) {\r\n      return rejectWithValue(error.response.data)\r\n    }\r\n  }\r\n)\r\n\r\nexport const logout = createAsyncThunk(\r\n  'auth/logout',\r\n  async (obj, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await logoutUser()\r\n      return data\r\n    } catch (error) {\r\n      return rejectWithValue(error.response.data)\r\n    }\r\n  }\r\n)\r\n\r\nexport const getForgotPassword = createAsyncThunk(\r\n  'auth/getForgotPassword',\r\n  async (email, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await forgotPassword(email)\r\n      return data\r\n    } catch (error) {\r\n      return rejectWithValue(error.response.data)\r\n    }\r\n  }\r\n)\r\n\r\nexport const resetPasswordValidation = createAsyncThunk(\r\n  'auth/resetPasswordValidation',\r\n  async (token, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await resetPasswordValidator(token)\r\n      return data\r\n    } catch (error) {\r\n      return rejectWithValue(error.response.data)\r\n    }\r\n  }\r\n)\r\n\r\nexport const createResetPassword = createAsyncThunk(\r\n  'auth/createResetPassword',\r\n  async (obj, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await resetPasswordAction(obj)\r\n      return data\r\n    } catch (error) {\r\n      return rejectWithValue(error.response.data)\r\n    }\r\n  }\r\n)\r\n","import { createSlice } from '@reduxjs/toolkit'\r\nimport {\r\n  getForgotPassword,\r\n  login,\r\n  logout,\r\n  register,\r\n  resetPasswordValidation,\r\n  createResetPassword,\r\n} from '../actions/authActions'\r\nimport Cookies from 'universal-cookie'\r\n\r\nconst cookies = new Cookies()\r\n\r\nconst initialState = {\r\n  user: cookies.get('user') ? cookies.get('user') : null,\r\n  loading: false,\r\n  error: null,\r\n  message: null,\r\n  resetPasswordSuccess: null,\r\n  resetPasswordError: null,\r\n}\r\n\r\nexport const authSlice = createSlice({\r\n  name: 'auth',\r\n  initialState,\r\n  reducers: {\r\n    resetMessage: (state) => {\r\n      state.message = null\r\n    },\r\n    resetError: (state) => {\r\n      state.error = null\r\n    },\r\n  },\r\n  extraReducers: {\r\n    //login\r\n    [login.pending]: (state, { payload }) => {\r\n      state.loading = true\r\n    },\r\n    [login.fulfilled]: (state, { payload }) => {\r\n      state.loading = false\r\n      state.user = payload.user\r\n      state.message = payload.message\r\n      payload.error = null\r\n    },\r\n    [login.rejected]: (state, { payload }) => {\r\n      state.loading = false\r\n      payload.errors\r\n        ? (state.error = payload.errors[0].msg)\r\n        : (state.error = payload.message)\r\n    },\r\n\r\n    //logout\r\n    [logout.pending]: (state, { payload }) => {\r\n      state.loading = true\r\n    },\r\n    [logout.fulfilled]: (state, { payload }) => {\r\n      state.loading = false\r\n      state.message = payload.message\r\n      state.user = null\r\n      payload.error = null\r\n    },\r\n    [logout.rejected]: (state, { payload }) => {\r\n      state.loading = false\r\n      state.error = payload\r\n    },\r\n\r\n    //register\r\n    [register.pending]: (state, { payload }) => {\r\n      state.loading = true\r\n    },\r\n    [register.fulfilled]: (state, { payload }) => {\r\n      state.loading = false\r\n      state.message = payload.message\r\n      payload.error = null\r\n    },\r\n    [register.rejected]: (state, { payload }) => {\r\n      state.loading = false\r\n      payload.errors\r\n        ? (state.error = payload.errors[0].msg)\r\n        : (state.error = payload.message)\r\n    },\r\n\r\n    //get forgot password\r\n    [getForgotPassword.pending]: (state, { payload }) => {\r\n      state.loading = true\r\n    },\r\n    [getForgotPassword.fulfilled]: (state, { payload }) => {\r\n      state.loading = false\r\n      state.message = payload.message\r\n      payload.error = null\r\n    },\r\n    [getForgotPassword.rejected]: (state, { payload }) => {\r\n      state.loading = false\r\n      state.error = payload.message\r\n    },\r\n\r\n    //reset passsword validation\r\n    [resetPasswordValidation.pending]: (state, { payload }) => {\r\n      state.loading = true\r\n    },\r\n    [resetPasswordValidation.fulfilled]: (state, { payload }) => {\r\n      state.loading = false\r\n      state.resetPasswordSuccess = payload.message\r\n      payload.resetPasswordError = null\r\n    },\r\n    [resetPasswordValidation.rejected]: (state, { payload }) => {\r\n      state.loading = false\r\n      state.resetPasswordError = payload.message\r\n    },\r\n\r\n    //create passsword reset\r\n    [createResetPassword.pending]: (state, { payload }) => {\r\n      state.loading = true\r\n    },\r\n    [createResetPassword.fulfilled]: (state, { payload }) => {\r\n      state.loading = false\r\n      state.message = payload.message\r\n      payload.error = null\r\n    },\r\n    [createResetPassword.rejected]: (state, { payload }) => {\r\n      state.loading = false\r\n      state.error = payload.message\r\n    },\r\n  },\r\n})\r\n\r\nexport const { resetMessage, resetError } = authSlice.actions\r\n\r\nexport const authState = (state) => state.auth\r\nexport default authSlice.reducer\r\n","import axios from 'axios'\r\naxios.defaults.withCredentials = true\r\nconst server_url = process.env.REACT_APP_SERVER_URL\r\n\r\nexport const uploadImages = async (obj) =>\r\n  await axios.post(`${server_url}/upload-images`, obj)\r\n\r\nexport const getPinImages = async (obj) =>\r\n  await axios.get(`${server_url}/get-images/${obj}`)\r\n\r\nexport const deleteImage = async (obj) =>\r\n  await axios.delete(`${server_url}/delete-image`, { data: obj })\r\n","import { createAsyncThunk } from '@reduxjs/toolkit'\r\nimport { deleteImage, getPinImages, uploadImages } from '../api/cloudinary'\r\n\r\nexport const addImages = createAsyncThunk(\r\n  'auth/addImages',\r\n  async (obj, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await uploadImages(obj)\r\n      return data\r\n    } catch (error) {\r\n      return rejectWithValue(error.response.data)\r\n    }\r\n  }\r\n)\r\n\r\nexport const getImages = createAsyncThunk(\r\n  'auth/getImages',\r\n  async (obj, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await getPinImages(obj)\r\n      return data\r\n    } catch (error) {\r\n      return rejectWithValue(error.response.data)\r\n    }\r\n  }\r\n)\r\n\r\nexport const removeImage = createAsyncThunk(\r\n  'auth/removeImage',\r\n  async (obj, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await deleteImage(obj)\r\n      return data\r\n    } catch (error) {\r\n      return rejectWithValue(error.response.data)\r\n    }\r\n  }\r\n)\r\n","import { createSlice } from '@reduxjs/toolkit'\r\nimport { addImages, getImages, removeImage } from '../actions/cloudinaryActions'\r\n\r\nconst initialState = {\r\n  images: [],\r\n  loading: false,\r\n  error: false,\r\n}\r\n\r\nexport const cloudinarySlice = createSlice({\r\n  name: 'cloudinary',\r\n  initialState,\r\n  reducers: {\r\n    returnError: (state, { payload }) => {\r\n      state.error = payload\r\n    },\r\n    resetError: (state, { payload }) => {\r\n      state.error = null\r\n    },\r\n  },\r\n  extraReducers: {\r\n    //create new image\r\n    [addImages.pending]: (state, { payload }) => {\r\n      state.loading = true\r\n    },\r\n    [addImages.fulfilled]: (state, { payload }) => {\r\n      state.loading = false\r\n      state.images = payload.pinImages.images\r\n      state.error = false\r\n    },\r\n    [addImages.rejected]: (state, { payload }) => {\r\n      state.loading = false\r\n      state.error = payload.message\r\n    },\r\n\r\n    //get pin images\r\n    [getImages.pending]: (state, { payload }) => {\r\n      state.loading = true\r\n    },\r\n    [getImages.fulfilled]: (state, { payload }) => {\r\n      state.loading = false\r\n      state.images = payload.pinImages.images ? payload.pinImages.images : []\r\n      state.error = false\r\n    },\r\n    [getImages.rejected]: (state, { payload }) => {\r\n      state.loading = false\r\n      state.error = payload.message\r\n    },\r\n\r\n    //remove iamge\r\n    [removeImage.pending]: (state, { payload }) => {\r\n      state.loading = true\r\n    },\r\n    [removeImage.fulfilled]: (state, { payload }) => {\r\n      state.loading = false\r\n      state.images = payload.pinImages.images\r\n      state.error = false\r\n    },\r\n    [removeImage.rejected]: (state, { payload }) => {\r\n      state.loading = false\r\n      state.error = payload.message\r\n    },\r\n  },\r\n})\r\n\r\nexport const { returnError, resetError } = cloudinarySlice.actions\r\n\r\nexport const cloudinaryState = (state) => state.cloudinary\r\nexport default cloudinarySlice.reducer\r\n","import { configureStore } from '@reduxjs/toolkit'\nimport mapReducer from './reducers/mapSlice'\nimport modalReducer from './reducers/modalSlice'\nimport authReducer from './reducers/authSlice'\nimport cloudinaryReducer from './reducers/cloudinarySlice'\n\nexport const store = configureStore({\n  reducer: {\n    map: mapReducer,\n    modal: modalReducer,\n    auth: authReducer,\n    cloudinary: cloudinaryReducer,\n  },\n})\n","import { Snackbar } from '@material-ui/core'\r\nimport React from 'react'\r\nimport Alert from '@material-ui/lab/Alert'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { authState, resetMessage } from '../../redux/reducers/authSlice'\r\n\r\nconst SuccessMessage = () => {\r\n  const auth = useSelector(authState)\r\n  const { message } = auth\r\n  const dispatch = useDispatch()\r\n  return (\r\n    <Snackbar\r\n      open={message}\r\n      autoHideDuration={6000}\r\n      onClose={() => {\r\n        dispatch(resetMessage())\r\n      }}\r\n    >\r\n      <Alert\r\n        onClose={() => {\r\n          dispatch(resetMessage())\r\n        }}\r\n        severity='success'\r\n      >\r\n        {message}\r\n      </Alert>\r\n    </Snackbar>\r\n  )\r\n}\r\n\r\nexport default SuccessMessage\r\n","import { Snackbar } from '@material-ui/core'\r\nimport React from 'react'\r\nimport Alert from '@material-ui/lab/Alert'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { authState, resetError } from '../../redux/reducers/authSlice'\r\n\r\nconst ErrorMessage = () => {\r\n  const auth = useSelector(authState)\r\n  const { error } = auth\r\n  const dispatch = useDispatch()\r\n\r\n  return (\r\n    <Snackbar\r\n      open={error}\r\n      autoHideDuration={6000}\r\n      onClose={() => dispatch(resetError())}\r\n    >\r\n      <Alert onClose={() => dispatch(resetError())} severity='error'>\r\n        {error}\r\n      </Alert>\r\n    </Snackbar>\r\n  )\r\n}\r\n\r\nexport default ErrorMessage\r\n","import RoomIcon from '@material-ui/icons/Room'\r\nimport { Marker, FlyToInterpolator } from 'react-map-gl'\r\nimport { Tooltip } from '@material-ui/core'\r\nimport { useDispatch } from 'react-redux'\r\nimport { setPinId, setViewport } from '../redux/reducers/mapSlice'\r\n\r\nconst MapMarker = ({ viewport, long, lat, marker }) => {\r\n  const dispatch = useDispatch()\r\n\r\n  let viewportOBJ = {\r\n    latitude: lat,\r\n    longitude: long,\r\n    zoom: 11,\r\n    // transitionInterpolator: new FlyToInterpolator({ speed: 1.2 }),\r\n    transitionDuration: 1000,\r\n  }\r\n\r\n  const handleClick = async () => {\r\n    await dispatch(setViewport(viewportOBJ))\r\n    setTimeout(() => dispatch(setPinId(marker._id)), 1200)\r\n  }\r\n\r\n  return (\r\n    <Marker\r\n      onClick={handleClick}\r\n      latitude={lat}\r\n      longitude={long}\r\n      offsetLeft={-3.5 * viewport.zoom}\r\n      offsetTop={-7 * viewport.zoom}\r\n    >\r\n      <Tooltip title={marker?.placeName}>\r\n        <RoomIcon\r\n          style={{\r\n            fontSize: viewport.zoom * 7,\r\n            color: 'crimson',\r\n            cursor: 'pointer',\r\n          }}\r\n        />\r\n      </Tooltip>\r\n    </Marker>\r\n  )\r\n}\r\n\r\nexport default MapMarker\r\n","import { makeStyles } from '@material-ui/core'\r\n\r\nconst styles = makeStyles((theme) => ({\r\n  toolBar: {\r\n    minHeight: '40px',\r\n  },\r\n\r\n  menuButton: {\r\n    margin: '1rem',\r\n    display: 'flex',\r\n    width: '150px',\r\n    fontWeight: '600',\r\n    fontSize: '1rem',\r\n  },\r\n\r\n  mapPopup: {\r\n    padding: theme.spacing(2),\r\n  },\r\n\r\n  popupButton: {\r\n    margin: theme.spacing(2, 'auto'),\r\n    padding: theme.spacing(1, 3),\r\n    display: 'flex',\r\n    width: 'fit-content',\r\n    fontWeight: '600',\r\n    fontSize: '1rem',\r\n  },\r\n\r\n  inputField: {\r\n    width: '350px',\r\n    margin: theme.spacing(2, 'auto'),\r\n    maxWidth: '90%',\r\n  },\r\n\r\n  flexCenter: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n  },\r\n\r\n  modalLink: {\r\n    color: '#263238',\r\n    fontWeight: '600',\r\n    margin: theme.spacing(0, 1),\r\n    '&:hover': {\r\n      textDecoration: 'underline',\r\n      cursor: 'pointer',\r\n    },\r\n  },\r\n\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: '#fff',\r\n  },\r\n}))\r\n\r\nexport default styles\r\n","import { Button, TextField } from '@material-ui/core'\r\nimport { useState } from 'react'\r\nimport { Popup } from 'react-map-gl'\r\nimport { useDispatch } from 'react-redux'\r\nimport { setCurrentMarker } from '../redux/reducers/mapSlice'\r\nimport styles from '../styles'\r\nimport { getPins, createNewPin } from '../redux/actions/markerActions'\r\n\r\nconst NewMarkerPopup = ({ long, lat }) => {\r\n  const classes = styles()\r\n  const dispatch = useDispatch()\r\n\r\n  const handleClose = () => {\r\n    dispatch(setCurrentMarker(null))\r\n  }\r\n\r\n  const [placeName, setPlaceName] = useState('')\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n    await dispatch(createNewPin({ long, lat, placeName }))\r\n    handleClose()\r\n    setPlaceName('')\r\n    await dispatch(getPins())\r\n  }\r\n  return (\r\n    <Popup\r\n      className={classes.mapPopup}\r\n      anchor='left'\r\n      latitude={lat}\r\n      longitude={long}\r\n      closeOnClick={false}\r\n      onClose={() => {\r\n        handleClose()\r\n      }}\r\n    >\r\n      <form onSubmit={handleSubmit}>\r\n        <TextField\r\n          label='Place name'\r\n          type='text'\r\n          values={placeName}\r\n          onChange={(e) => setPlaceName(e.target.value)}\r\n        />\r\n        <Button\r\n          className={classes.popupButton}\r\n          type='submit'\r\n          variant='contained'\r\n          color='primary'\r\n        >\r\n          Submit\r\n        </Button>\r\n      </form>\r\n    </Popup>\r\n  )\r\n}\r\n\r\nexport default NewMarkerPopup\r\n","import styled from 'styled-components'\r\n\r\nexport const StyledButton = styled.button`\r\n  background-color: white;\r\n  color: ${(props) => (props.primary ? 'Black' : 'Crimson')};\r\n  font-size: 1em;\r\n  margin: 1em;\r\n  padding: 0.25em 1em;\r\n  border: 2px solid ${(props) => (props.primary ? 'Black' : 'Crimson')};\r\n  border-radius: 3px;\r\n  width: 150px;\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n    background: ${(props) => (props.primary ? 'Black' : 'Crimson')};\r\n    color: white;\r\n  }\r\n`\r\n\r\nexport const FlexDiv = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\n\r\nexport const HiddenDiv = styled.div`\r\n  display: ${(props) =>\r\n    Number(props.value) === props.number ? 'flex' : 'none'};\r\n  margin: 10px 0;\r\n  padding: 10px;\r\n`\r\n\r\nexport const Icon = styled.svg`\r\n  color: ${(props) => props.color};\r\n  height: 20px;\r\n  width: 20px;\r\n  float: right;\r\n  margin: 0 5px;\r\n  &:hover {\r\n    cursor: pointer;\r\n    background-color: azure;\r\n  }\r\n`\r\n\r\nexport const HiddenForm = styled.div`\r\n  display: ${(props) => (props.show ? 'flex' : 'none')};\r\n  margin: 10px 0;\r\n  padding: 10px;\r\n  flex-direction: column;\r\n`\r\n","import { TextField } from '@material-ui/core'\r\nimport React, { useState } from 'react'\r\nimport { HiddenForm, StyledButton } from '../styled'\r\nimport styles from '../styles'\r\nimport { useDispatch } from 'react-redux'\r\nimport { getForgotPassword } from '../redux/actions/authActions'\r\n\r\nconst ResetPasswordForm = ({ show }) => {\r\n  const [email, setEmail] = useState()\r\n  const classes = styles()\r\n  const dispatch = useDispatch()\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n    dispatch(getForgotPassword(email))\r\n  }\r\n\r\n  return (\r\n    <HiddenForm show={show}>\r\n      <p style={{ padding: '10px', color: 'gray' }}>\r\n        Type your email in order to get password reset link\r\n      </p>\r\n      <form style={{ display: 'flex', justifyContent: 'center' }}>\r\n        <TextField\r\n          fullWidth\r\n          label='Email'\r\n          type='email'\r\n          variant='standard'\r\n          name='email'\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          className={classes.inputField}\r\n        />\r\n      </form>\r\n      <StyledButton onClick={handleSubmit} type='submit'>\r\n        Send\r\n      </StyledButton>\r\n    </HiddenForm>\r\n  )\r\n}\r\n\r\nexport default ResetPasswordForm\r\n","import React from 'react'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport { IconButton, Toolbar } from '@material-ui/core'\r\n\r\nconst ModalToolbar = ({ handleClsoe }) => {\r\n  return (\r\n    <Toolbar>\r\n      <IconButton\r\n        edge='start'\r\n        color='inherit'\r\n        onClick={handleClsoe}\r\n        aria-label='close'\r\n      >\r\n        <CloseIcon />\r\n      </IconButton>\r\n    </Toolbar>\r\n  )\r\n}\r\n\r\nexport default ModalToolbar\r\n","import {\r\n  Button,\r\n  Dialog,\r\n  DialogTitle,\r\n  TextField,\r\n  Typography,\r\n} from '@material-ui/core'\r\nimport React, { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport {\r\n  modalState,\r\n  closeLoginModal,\r\n  openRegisterModal,\r\n} from '../../redux/reducers/modalSlice'\r\nimport styles from '../../styles'\r\nimport { login } from '../../redux/actions/authActions'\r\nimport { authState } from '../../redux/reducers/authSlice'\r\nimport Cookies from 'universal-cookie'\r\nimport ResetPasswordForm from '../ResetPasswordForm'\r\nimport { mapState } from '../../redux/reducers/mapSlice'\r\nimport ModalToolbar from './ModalToolbar'\r\n\r\nconst Login = () => {\r\n  const cookies = new Cookies()\r\n  const classes = styles()\r\n  const dispatch = useDispatch()\r\n\r\n  //states\r\n  const modals = useSelector(modalState)\r\n  const auth = useSelector(authState)\r\n  const map = useSelector(mapState)\r\n  const { loginModal } = modals\r\n  const { user, loading, message } = auth\r\n  const { windowWidth } = map\r\n\r\n  const [values, setValues] = useState({\r\n    username: '',\r\n    password: '',\r\n  })\r\n\r\n  const { username, password } = values\r\n\r\n  const [showPasswordReset, setShowPasswordReset] = useState(false)\r\n\r\n  const handleChange = (e) => {\r\n    setValues({ ...values, [e.target.name]: e.target.value })\r\n  }\r\n\r\n  const handleClsoe = () => {\r\n    dispatch(closeLoginModal())\r\n  }\r\n\r\n  const handleModalSwitch = () => {\r\n    dispatch(closeLoginModal())\r\n    dispatch(openRegisterModal())\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    dispatch(login(values))\r\n  }\r\n\r\n  if (message === 'Logged in succefully') {\r\n    cookies.set('user', user)\r\n    handleClsoe()\r\n  }\r\n\r\n  return (\r\n    <Dialog\r\n      onClose={handleClsoe}\r\n      open={loginModal}\r\n      fullScreen={windowWidth < 600}\r\n    >\r\n      {windowWidth < 600 && <ModalToolbar handleClsoe={handleClsoe} />}\r\n\r\n      <DialogTitle>\r\n        <Typography variant='h6' align='center'>\r\n          Login\r\n        </Typography>\r\n      </DialogTitle>\r\n\r\n      <div>\r\n        <form className={classes.flexCenter} onSubmit={handleSubmit}>\r\n          <TextField\r\n            fullWidth\r\n            label='Username'\r\n            name='username'\r\n            value={username}\r\n            type='text'\r\n            variant='standard'\r\n            onChange={handleChange}\r\n            className={classes.inputField}\r\n          />\r\n\r\n          <TextField\r\n            fullWidth\r\n            label='Password'\r\n            type='password'\r\n            variant='standard'\r\n            name='password'\r\n            value={password}\r\n            onChange={handleChange}\r\n            className={classes.inputField}\r\n          />\r\n\r\n          <Button\r\n            variant='contained'\r\n            color='primary'\r\n            type='submit'\r\n            className={classes.popupButton}\r\n          >\r\n            {loading ? 'Loading...' : 'Login'}\r\n          </Button>\r\n        </form>\r\n        <p className={classes.inputField}>\r\n          Don't have an account?\r\n          <span onClick={handleModalSwitch} className={classes.modalLink}>\r\n            Register\r\n          </span>\r\n        </p>\r\n\r\n        <p className={classes.inputField}>\r\n          Can't login? click\r\n          <span\r\n            onClick={() => setShowPasswordReset(!showPasswordReset)}\r\n            className={classes.modalLink}\r\n          >\r\n            Here\r\n          </span>\r\n        </p>\r\n      </div>\r\n\r\n      <ResetPasswordForm show={showPasswordReset} />\r\n    </Dialog>\r\n  )\r\n}\r\n\r\nexport default Login\r\n","import {\r\n  Button,\r\n  Dialog,\r\n  DialogTitle,\r\n  TextField,\r\n  Typography,\r\n} from '@material-ui/core'\r\nimport React, { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport {\r\n  modalState,\r\n  closeRegisterModal,\r\n  openLoginModal,\r\n} from '../../redux/reducers/modalSlice'\r\nimport styles from '../../styles'\r\nimport { register } from '../../redux/actions/authActions'\r\nimport { authState } from '../../redux/reducers/authSlice'\r\nimport ModalToolbar from './ModalToolbar'\r\nimport { mapState } from '../../redux/reducers/mapSlice'\r\n\r\nconst Register = () => {\r\n  const classes = styles()\r\n  const dispatch = useDispatch()\r\n\r\n  //state\r\n  const modals = useSelector(modalState)\r\n  const auth = useSelector(authState)\r\n  const { registerModal } = modals\r\n  const { message, loading } = auth\r\n\r\n  //local state\r\n  const [values, setValues] = useState({\r\n    username: '',\r\n    password: '',\r\n    email: '',\r\n  })\r\n\r\n  const { username, password, email } = values\r\n\r\n  const handleChange = (e) => {\r\n    setValues({ ...values, [e.target.name]: e.target.value })\r\n  }\r\n\r\n  const handleClsoe = () => {\r\n    dispatch(closeRegisterModal())\r\n  }\r\n\r\n  const handleModalSwitch = () => {\r\n    dispatch(closeRegisterModal())\r\n    dispatch(openLoginModal())\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    dispatch(register(values))\r\n  }\r\n\r\n  if (message) {\r\n    handleClsoe()\r\n  }\r\n\r\n  const map = useSelector(mapState)\r\n  const { windowWidth } = map\r\n\r\n  return (\r\n    <Dialog\r\n      onClose={handleClsoe}\r\n      open={registerModal}\r\n      fullScreen={windowWidth < 600}\r\n    >\r\n      {windowWidth < 600 && <ModalToolbar handleClsoe={handleClsoe} />}\r\n\r\n      <DialogTitle>\r\n        <Typography variant='h6' align='center'>\r\n          Register\r\n        </Typography>\r\n      </DialogTitle>\r\n\r\n      <div>\r\n        <form className={classes.flexCenter} onSubmit={handleSubmit}>\r\n          <TextField\r\n            fullWidth\r\n            label='Username'\r\n            type='text'\r\n            variant='standard'\r\n            name='username'\r\n            value={username}\r\n            onChange={handleChange}\r\n            className={classes.inputField}\r\n          />\r\n\r\n          <TextField\r\n            fullWidth\r\n            label='Email'\r\n            type='email'\r\n            variant='standard'\r\n            name='email'\r\n            value={email}\r\n            onChange={handleChange}\r\n            className={classes.inputField}\r\n          />\r\n\r\n          <TextField\r\n            fullWidth\r\n            label='Password'\r\n            type='password'\r\n            variant='standard'\r\n            name='password'\r\n            value={password}\r\n            onChange={handleChange}\r\n            className={classes.inputField}\r\n          />\r\n\r\n          <Button\r\n            variant='contained'\r\n            color='primary'\r\n            type='submit'\r\n            className={classes.popupButton}\r\n          >\r\n            {loading ? 'Loading...' : 'Register'}\r\n          </Button>\r\n        </form>\r\n        <p className={classes.inputField}>\r\n          Already have account?\r\n          <span onClick={handleModalSwitch} className={classes.modalLink}>\r\n            Login\r\n          </span>\r\n        </p>\r\n      </div>\r\n    </Dialog>\r\n  )\r\n}\r\n\r\nexport default Register\r\n","import { makeStyles } from '@material-ui/core'\r\n\r\nconst styles = makeStyles((theme) => ({\r\n  commentsDiv: {\r\n    maxHeight: '350px',\r\n    overflowY: 'auto',\r\n    padding: theme.spacing(1),\r\n    margin: theme.spacing(1, 0),\r\n  },\r\n\r\n  imagesDiv: {\r\n    maxHeight: '500px',\r\n    overflowY: 'auto',\r\n    width: '100%',\r\n    padding: theme.spacing(1),\r\n    margin: theme.spacing(1, 0),\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n  },\r\n\r\n  imgDiv: {\r\n    width: '100%',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    padding: '5px',\r\n  },\r\n\r\n  img: {\r\n    margin: '5px auto',\r\n    maxWidth: '95%',\r\n    '&:hover': {\r\n      cursor: 'auto',\r\n    },\r\n  },\r\n\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: '#fff',\r\n  },\r\n\r\n  badge: {\r\n    position: 'relative',\r\n    marginRight: '15px',\r\n    display: 'flex',\r\n    '&:hover': {\r\n      cursor: 'pointer',\r\n    },\r\n  },\r\n\r\n  header: {\r\n    margin: theme.spacing(4, 0),\r\n  },\r\n}))\r\n\r\nexport default styles\r\n","import React from 'react'\r\nimport moment from 'moment'\r\nimport { Paper, Typography } from '@material-ui/core'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\nimport { Icon } from '../styled'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { removeComment } from '../redux/actions/markerActions'\r\nimport { authState } from '../redux/reducers/authSlice'\r\nimport { mapState } from '../redux/reducers/mapSlice'\r\n\r\nconst Comment = ({ comment }) => {\r\n  const { body, postedBy, createdAt, createdBy, _id } = comment\r\n\r\n  const auth = useSelector(authState)\r\n  const map = useSelector(mapState)\r\n\r\n  const { pinId } = map\r\n  const { user } = auth\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const myConfirm = () => {\r\n    if (window.confirm('Are you sure you wnat to delete this message?')) {\r\n      return dispatch(removeComment({ pinId, commentId: _id }))\r\n    }\r\n    return\r\n  }\r\n\r\n  return (\r\n    <Paper style={{ marginBottom: '15px', padding: '5px' }} elevation={3}>\r\n      <Typography variant='h6'>{`${postedBy}'s comment:`}</Typography>\r\n      <Typography style={{ margin: '5px 0' }} variant='subtitle1'>\r\n        {body}\r\n      </Typography>\r\n      <Typography variant='subtitle1' style={{ color: 'GrayText' }}>\r\n        {moment(createdAt).format('MMMM Do YYYY')}\r\n        {user?._id === createdBy && (\r\n          <Icon onClick={myConfirm} color={'crimson'}>\r\n            <DeleteIcon />\r\n          </Icon>\r\n        )}\r\n      </Typography>\r\n    </Paper>\r\n  )\r\n}\r\n\r\nexport default Comment\r\n","import { TextField } from '@material-ui/core'\r\nimport React, { useState } from 'react'\r\nimport { StyledButton } from '../../styled'\r\nimport styles from '../../styles'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { createComment } from '../../redux/actions/markerActions'\r\nimport { mapState } from '../../redux/reducers/mapSlice'\r\n\r\nconst CommentForm = () => {\r\n  const classes = styles()\r\n  const [comment, setComment] = useState('')\r\n  const dispatch = useDispatch()\r\n\r\n  const state = useSelector(mapState)\r\n  const { pinId } = state\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    dispatch(createComment({ pinId, body: comment }))\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <TextField\r\n        className={classes.inputField}\r\n        type='text'\r\n        placeholder='Comment'\r\n        value={comment}\r\n        onChange={(e) => setComment(e.target.value)}\r\n      />\r\n      <StyledButton type='submit' primary>\r\n        Submit\r\n      </StyledButton>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default CommentForm\r\n","import React, { useState } from 'react'\r\nimport { StyledButton } from '../../styled'\r\nimport Resizer from 'react-image-file-resizer'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { addImages } from '../../redux/actions/cloudinaryActions'\r\nimport { mapState } from '../../redux/reducers/mapSlice'\r\nimport { returnError } from '../../redux/reducers/cloudinarySlice'\r\n\r\nconst ImagesUpload = () => {\r\n  const dispatch = useDispatch()\r\n  const [files, setFiles] = useState('')\r\n\r\n  const state = useSelector(mapState)\r\n  const { pinId, loading } = state\r\n\r\n  const handleChange = (e) => {\r\n    setFiles(e.target.files)\r\n  }\r\n\r\n  const dispatchImageUpload = async (uri) => {\r\n    await dispatch(addImages({ image: uri, pinId }))\r\n  }\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n\r\n    if (files.length > 3) {\r\n      return dispatch(\r\n        returnError(`Please don't uplaod more than 3 images at once.`)\r\n      )\r\n    }\r\n\r\n    if (files) {\r\n      for (let i = 0; i < files.length; i++) {\r\n        Resizer.imageFileResizer(\r\n          files[i],\r\n          500,\r\n          500,\r\n          'auto',\r\n          100,\r\n          0,\r\n          (uri) => {\r\n            dispatchImageUpload(uri)\r\n          },\r\n          'base64'\r\n        )\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <input\r\n        style={{\r\n          fontSize: '15px',\r\n          display: 'flex',\r\n          padding: '10px 20px',\r\n        }}\r\n        type='file'\r\n        accept='image/*'\r\n        name='imagetoUpload'\r\n        multiple\r\n        onChange={handleChange}\r\n      />\r\n\r\n      <StyledButton primary>{loading ? 'Loading...' : 'Submit'}</StyledButton>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default ImagesUpload\r\n","import { FormControl, InputLabel, MenuItem, Select } from '@material-ui/core'\r\nimport React, { useState } from 'react'\r\nimport styles from '../../styles'\r\nimport { StyledButton } from '../../styled'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { addRating } from '../../redux/actions/markerActions'\r\nimport { mapState } from '../../redux/reducers/mapSlice'\r\n\r\nconst AddRating = () => {\r\n  const classes = styles()\r\n  const dispatch = useDispatch()\r\n  const [rating, setRating] = useState('')\r\n\r\n  const map = useSelector(mapState)\r\n  const { pinId } = map\r\n\r\n  const handleChange = (e) => {\r\n    setRating(e.target.value)\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    dispatch(addRating({ pinId, value: rating }))\r\n  }\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <FormControl>\r\n        <InputLabel id='demo-simple-select-label'>Rate</InputLabel>\r\n        <Select\r\n          className={classes.inputField}\r\n          labelId='demo-simple-select-label'\r\n          id='demo-simple-select'\r\n          value={rating}\r\n          onChange={handleChange}\r\n        >\r\n          <MenuItem value={1}>1</MenuItem>\r\n          <MenuItem value={2}>2</MenuItem>\r\n          <MenuItem value={3}>3</MenuItem>\r\n          <MenuItem value={4}>4</MenuItem>\r\n          <MenuItem value={5}>5</MenuItem>\r\n        </Select>\r\n\r\n        <StyledButton type='submit' primary>\r\n          Submit\r\n        </StyledButton>\r\n      </FormControl>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default AddRating\r\n","import React, { useState } from 'react'\r\nimport { FlexDiv, HiddenDiv, StyledButton } from '../styled'\r\nimport CommentForm from './tabs/CommentForm'\r\nimport ImagesUpload from './tabs/ImagesUpload'\r\nimport { useSelector } from 'react-redux'\r\nimport { authState } from '../redux/reducers/authSlice'\r\nimport { Typography } from '@material-ui/core'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport AddRating from './tabs/AddRating'\r\n\r\nconst TabsMenu = () => {\r\n  const [value, setValue] = useState(0)\r\n  const auth = useSelector(authState)\r\n  const { user } = auth\r\n\r\n  const handleClick = (e) => {\r\n    setValue(e.target.value)\r\n  }\r\n  return (\r\n    <FlexDiv>\r\n      {!user ? (\r\n        <Typography\r\n          style={{ margin: '10px 0', padding: '10px', color: 'GrayText' }}\r\n          variant='subtitle1'\r\n        >\r\n          Only logged in users are able to add comments/photos/rating.\r\n        </Typography>\r\n      ) : (\r\n        <>\r\n          <div>\r\n            <StyledButton onClick={handleClick} value={1}>\r\n              Add comment\r\n            </StyledButton>\r\n            <StyledButton onClick={handleClick} value={2}>\r\n              Add photo\r\n            </StyledButton>\r\n            <StyledButton onClick={handleClick} value={3}>\r\n              Add rating\r\n            </StyledButton>\r\n          </div>\r\n          <Divider></Divider>\r\n        </>\r\n      )}\r\n\r\n      <div>\r\n        <HiddenDiv value={value} number={1}>\r\n          <CommentForm />\r\n        </HiddenDiv>\r\n        <HiddenDiv value={value} number={2}>\r\n          <ImagesUpload />\r\n        </HiddenDiv>\r\n        <HiddenDiv value={value} number={3}>\r\n          <AddRating />\r\n        </HiddenDiv>\r\n      </div>\r\n    </FlexDiv>\r\n  )\r\n}\r\n\r\nexport default TabsMenu\r\n","import {\r\n  Backdrop,\r\n  Badge,\r\n  CircularProgress,\r\n  Dialog,\r\n  DialogTitle,\r\n  Typography,\r\n} from '@material-ui/core'\r\nimport React, { useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { mapState, resetPinId } from '../../redux/reducers/mapSlice'\r\nimport {\r\n  getComments,\r\n  getPin,\r\n  getRating,\r\n  removeMarker,\r\n} from '../../redux/actions/markerActions'\r\nimport styles from './styles'\r\nimport Comment from '../Comment'\r\nimport TabsMenu from '../Tabs'\r\nimport { getImages, removeImage } from '../../redux/actions/cloudinaryActions'\r\nimport { cloudinaryState } from '../../redux/reducers/cloudinarySlice'\r\nimport { authState } from '../../redux/reducers/authSlice'\r\nimport Rating from '@material-ui/lab/Rating'\r\nimport { StyledButton } from '../../styled'\r\nimport ModalToolbar from './ModalToolbar'\r\n\r\nconst PinModel = () => {\r\n  const classes = styles()\r\n  const map = useSelector(mapState)\r\n  const auth = useSelector(authState)\r\n  const cloudinary = useSelector(cloudinaryState)\r\n\r\n  const { pinId, loading, currentPin, comments, rating, windowWidth } = map\r\n  const { user } = auth\r\n  const { loading: loadingImages, images } = cloudinary\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => pinId !== null && dispatch(getPin(pinId)), [pinId])\r\n  useEffect(() => pinId !== null && dispatch(getComments(pinId)), [pinId])\r\n  useEffect(() => pinId !== null && dispatch(getImages(pinId)), [pinId])\r\n  useEffect(() => pinId !== null && dispatch(getRating(pinId)), [pinId])\r\n\r\n  const ratingAverage = function () {\r\n    const values = rating.map((r) => r.value)\r\n    const reducer = (accumulator, currentValue) => accumulator + currentValue\r\n    const total = values.reduce(reducer)\r\n    const result = total / values.length\r\n    return result\r\n  }\r\n\r\n  const confirmDeleteMarker = async () => {\r\n    if (window.confirm('Are you sure you wnat to delete this marker?')) {\r\n      await dispatch(removeMarker(pinId))\r\n      dispatch(resetPinId())\r\n    }\r\n  }\r\n\r\n  return loading || loadingImages ? (\r\n    <Backdrop className={classes.backdrop} open={loading || loadingImages}>\r\n      <CircularProgress color='inherit' />\r\n    </Backdrop>\r\n  ) : (\r\n    <Dialog\r\n      onClose={() => dispatch(resetPinId())}\r\n      open={pinId}\r\n      fullScreen={windowWidth < 600}\r\n    >\r\n      {windowWidth < 600 && (\r\n        <ModalToolbar handleClsoe={() => dispatch(resetPinId())} />\r\n      )}\r\n\r\n      <DialogTitle className={classes.modal}>\r\n        <Typography\r\n          variant='h5'\r\n          style={{ display: 'flex', alignItems: 'center' }}\r\n        >\r\n          <span style={{ flex: 1 }}> {currentPin?.placeName}</span>\r\n\r\n          <Rating\r\n            name='simple-controlled'\r\n            value={rating && rating.length > 0 ? ratingAverage().toFixed(1) : 0}\r\n            readOnly\r\n            precision={0.5}\r\n          />\r\n          <span style={{ marginLeft: '7px' }}>\r\n            {`(${\r\n              rating && rating.length > 0\r\n                ? ratingAverage().toFixed(1)\r\n                : 'No ratings'\r\n            })`}\r\n          </span>\r\n        </Typography>\r\n\r\n        {rating && rating.length && (\r\n          <Typography\r\n            style={{ float: 'right', color: 'GrayText' }}\r\n            variant='subtitle1'\r\n          >{`from ${rating.length} ratings`}</Typography>\r\n        )}\r\n      </DialogTitle>\r\n\r\n      {/* marker deletion */}\r\n      {user && user.role === 'admin' && (\r\n        <StyledButton\r\n          style={{ width: '200px' }}\r\n          variant='contained'\r\n          fullWidth\r\n          onClick={confirmDeleteMarker}\r\n        >\r\n          Delete this marker\r\n        </StyledButton>\r\n      )}\r\n\r\n      <div className={classes.imagesDiv}>\r\n        {images?.length > 0 ? (\r\n          images.map((image, i) => (\r\n            <div className={classes.imgDiv}>\r\n              {user?._id === image.createdBy ? (\r\n                <>\r\n                  <img className={classes.img} key={i} src={image.url} />\r\n                  <Badge\r\n                    onClick={() =>\r\n                      dispatch(\r\n                        removeImage({ pinId, public_id: image.public_id })\r\n                      )\r\n                    }\r\n                    className={classes.badge}\r\n                    badgeContent={'Delete'}\r\n                    color='error'\r\n                  ></Badge>\r\n                </>\r\n              ) : (\r\n                <img className={classes.img} key={i} src={image.url} />\r\n              )}\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <p>No images yet.</p>\r\n        )}\r\n      </div>\r\n\r\n      <div className={classes.commentsDiv}>\r\n        {comments?.length > 0 ? (\r\n          comments.map((c, i) => <Comment key={i} comment={c} />)\r\n        ) : (\r\n          <p>No comments yet.</p>\r\n        )}\r\n      </div>\r\n\r\n      <TabsMenu />\r\n    </Dialog>\r\n  )\r\n}\r\n\r\nexport default PinModel\r\n","import { Snackbar } from '@material-ui/core'\r\nimport React from 'react'\r\nimport Alert from '@material-ui/lab/Alert'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { mapState, resetError } from '../../redux/reducers/mapSlice'\r\n\r\nconst MapErrorMessage = () => {\r\n  const dispatch = useDispatch()\r\n  const state = useSelector(mapState)\r\n  const { error } = state\r\n\r\n  return (\r\n    <Snackbar\r\n      open={error}\r\n      autoHideDuration={6000}\r\n      onClose={() => dispatch(resetError())}\r\n    >\r\n      <Alert onClose={() => dispatch(resetError())} severity='error'>\r\n        {error}\r\n      </Alert>\r\n    </Snackbar>\r\n  )\r\n}\r\n\r\nexport default MapErrorMessage\r\n","import { Snackbar } from '@material-ui/core'\r\nimport React from 'react'\r\nimport Alert from '@material-ui/lab/Alert'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport {\r\n  cloudinaryState,\r\n  resetError,\r\n} from '../../redux/reducers/cloudinarySlice'\r\n\r\nconst CloudinaryErrorMessage = () => {\r\n  const dispatch = useDispatch()\r\n  const cloudinary = useSelector(cloudinaryState)\r\n  const { error } = cloudinary\r\n\r\n  return (\r\n    <Snackbar\r\n      open={error}\r\n      autoHideDuration={6000}\r\n      onClose={() => dispatch(resetError())}\r\n    >\r\n      <Alert onClose={() => dispatch(resetError())} severity='error'>\r\n        {error}\r\n      </Alert>\r\n    </Snackbar>\r\n  )\r\n}\r\n\r\nexport default CloudinaryErrorMessage\r\n","import { Dialog, Typography } from '@material-ui/core'\r\nimport { closeAboutModal, modalState } from '../../redux/reducers/modalSlice'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport styles from './styles'\r\nimport { mapState } from '../../redux/reducers/mapSlice'\r\nimport ModalToolbar from './ModalToolbar'\r\n\r\nconst About = () => {\r\n  const dispatch = useDispatch()\r\n  const modal = useSelector(modalState)\r\n  const { aboutModal } = modal\r\n  const classes = styles()\r\n\r\n  const map = useSelector(mapState)\r\n  const { windowWidth } = map\r\n\r\n  const handleClsoe = () => {\r\n    dispatch(closeAboutModal())\r\n  }\r\n\r\n  return (\r\n    <Dialog\r\n      open={aboutModal}\r\n      onClose={handleClsoe}\r\n      fullScreen={windowWidth < 600}\r\n    >\r\n      {windowWidth < 600 && <ModalToolbar handleClsoe={handleClsoe} />}\r\n\r\n      <Typography variant='h4' align='center' className={classes.header}>\r\n        Travel-App 101\r\n      </Typography>\r\n      <Typography variant='h6' align='center' style={{ padding: '7px' }}>\r\n        Have you ever wanted to share your favorite places with the world?\r\n        Comment, upload images, or rate places you have been to? now it's all\r\n        possible with Mike's travel app!\r\n      </Typography>\r\n\r\n      <div style={{ padding: '10px' }}>\r\n        <p>\r\n          1. View all the places in the world by clicking on the markers on the\r\n          map.\r\n        </p>\r\n        <p>\r\n          2. Register a new account and loggin to be able to create new markers!\r\n        </p>\r\n        <p>\r\n          3. Creating a marker is done by double clicking the map, choose a\r\n          place you want to mark and just double click it! (make sure you logged\r\n          in)\r\n        </p>\r\n        <p>\r\n          4. You can post comments ratings and images on other people's markers\r\n          as well.\r\n        </p>\r\n        <p>\r\n          5. Don't worry you can delete your comments and photos later if you\r\n          change your mind...\r\n        </p>\r\n\r\n        <p>6. Enjoy your time.</p>\r\n\r\n        <p style={{ color: 'gray', marginTop: '15px' }}>\r\n          Please note that if needed the admim can delete any marker on the map\r\n          and all the images and comments will be deleted too..\r\n        </p>\r\n      </div>\r\n    </Dialog>\r\n  )\r\n}\r\n\r\nexport default About\r\n","import { Backdrop, Button, CircularProgress } from '@material-ui/core'\r\nimport { useEffect } from 'react'\r\nimport ReactMapGL from 'react-map-gl'\r\nimport MapMarker from './components/MapMarker'\r\nimport styles from './styles'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport {\r\n  setCurrentMarker,\r\n  mapState,\r\n  setViewport,\r\n} from './redux/reducers/mapSlice'\r\nimport { openLoginModal, openAboutModal } from './redux/reducers/modalSlice'\r\nimport NewMarkerPopup from './components/NewMarkerPopup'\r\nimport { getPins } from './redux/actions/markerActions'\r\nimport Login from './components/modals/Login'\r\nimport Register from './components/modals/Register'\r\nimport { authState } from './redux/reducers/authSlice'\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\r\nimport { logout } from './redux/actions/authActions'\r\nimport Cookies from 'universal-cookie'\r\nimport PinModel from './components/modals/PinModel'\r\nimport MapErrorMessage from './components/snackBars/MapErrorMessage'\r\nimport CloudinaryErrorMessage from './components/snackBars/CloudinaryErrorMessage'\r\nimport About from './components/modals/About'\r\nimport 'mapbox-gl/dist/mapbox-gl.css'\r\n\r\nfunction Map() {\r\n  const dispatch = useDispatch()\r\n  const classes = styles()\r\n  const cookies = new Cookies()\r\n\r\n  //state\r\n  const state = useSelector(mapState)\r\n  const auth = useSelector(authState)\r\n  const { user, loading: authLoading } = auth\r\n\r\n  const { currentMarker, markers, viewport, loading: mapLoading } = state\r\n\r\n  const handleNewClick = (e) => {\r\n    user && dispatch(setCurrentMarker({ long: e.lngLat[0], lat: e.lngLat[1] }))\r\n  }\r\n\r\n  useEffect(() => dispatch(getPins()), [])\r\n\r\n  const handleLogout = async () => {\r\n    await dispatch(logout())\r\n    cookies.remove('user')\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <ReactMapGL\r\n        onDblClick={(e) => handleNewClick(e)}\r\n        {...viewport}\r\n        mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_TOKEN}\r\n        mapStyle='mapbox://styles/mapbox/streets-v11'\r\n        onViewportChange={(nextViewport) => dispatch(setViewport(nextViewport))}\r\n      >\r\n        {currentMarker && (\r\n          <>\r\n            <MapMarker\r\n              viewport={viewport}\r\n              long={Number(currentMarker.long)}\r\n              lat={Number(currentMarker.lat)}\r\n            />\r\n            <NewMarkerPopup\r\n              long={Number(currentMarker.long)}\r\n              lat={Number(currentMarker.lat)}\r\n            />\r\n          </>\r\n        )}\r\n        {markers.length > 0 &&\r\n          markers.map((m, i) => (\r\n            <MapMarker\r\n              key={i}\r\n              viewport={viewport}\r\n              long={Number(m.long)}\r\n              lat={Number(m.lat)}\r\n              marker={m}\r\n            />\r\n          ))}\r\n\r\n        {!user ? (\r\n          <Button\r\n            className={classes.menuButton}\r\n            variant='contained'\r\n            color='primary'\r\n            onClick={() => dispatch(openLoginModal())}\r\n          >\r\n            login\r\n          </Button>\r\n        ) : (\r\n          <Button\r\n            className={classes.menuButton}\r\n            variant='contained'\r\n            color='primary'\r\n            onClick={handleLogout}\r\n            endIcon={<ExitToAppIcon />}\r\n          >\r\n            Logout\r\n          </Button>\r\n        )}\r\n\r\n        <Button\r\n          className={classes.menuButton}\r\n          variant='contained'\r\n          color='secondary'\r\n          onClick={() => dispatch(openAboutModal())}\r\n        >\r\n          About\r\n        </Button>\r\n\r\n        {/* Modals imports */}\r\n        <Login />\r\n        <Register />\r\n        <PinModel />\r\n        <About />\r\n\r\n        {/* loader */}\r\n        <Backdrop className={classes.backdrop} open={authLoading || mapLoading}>\r\n          <CircularProgress color='inherit' />\r\n        </Backdrop>\r\n\r\n        {/* errors */}\r\n        <MapErrorMessage />\r\n        <CloudinaryErrorMessage />\r\n      </ReactMapGL>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Map\r\n","import { createMuiTheme } from '@material-ui/core'\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#000000',\r\n    },\r\n    secondary: {\r\n      main: '#DC143C',\r\n    },\r\n  },\r\n})\r\n\r\nexport default theme\r\n","import {\r\n  Backdrop,\r\n  CircularProgress,\r\n  Container,\r\n  TextField,\r\n  Typography,\r\n} from '@material-ui/core'\r\nimport { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { authState } from '../redux/reducers/authSlice'\r\nimport {\r\n  resetPasswordValidation,\r\n  createResetPassword,\r\n} from '../redux/actions/authActions'\r\nimport { useParams } from 'react-router-dom'\r\nimport styles from '../styles'\r\nimport { StyledButton, FlexDiv } from '../styled'\r\n\r\nconst PasswordReset = () => {\r\n  const classes = styles()\r\n  const dispatch = useDispatch()\r\n  const auth = useSelector(authState)\r\n  const {\r\n    resetPasswordSuccess,\r\n    resetPasswordError,\r\n    loading,\r\n    error,\r\n    message,\r\n  } = auth\r\n\r\n  const params = useParams()\r\n  const { token } = params\r\n\r\n  const [values, setvalues] = useState({\r\n    password: '',\r\n    confirmPassword: '',\r\n  })\r\n\r\n  const { password, confirmPassword } = values\r\n  const handleChange = (e) => {\r\n    setvalues({ ...values, [e.target.name]: e.target.value })\r\n  }\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n    await dispatch(\r\n      createResetPassword({\r\n        password,\r\n        confirmPassword,\r\n        resetPasswordToken: token,\r\n      })\r\n    )\r\n  }\r\n\r\n  const displayError = () => {\r\n    if (error) {\r\n      return (\r\n        <Typography\r\n          variant='subtitle1'\r\n          align='center'\r\n          style={{ margin: '20px 0', color: 'red' }}\r\n        >\r\n          {error}\r\n        </Typography>\r\n      )\r\n    }\r\n  }\r\n\r\n  const displaySuccess = () => {\r\n    if (message) {\r\n      return (\r\n        <Typography\r\n          variant='subtitle1'\r\n          align='center'\r\n          style={{ margin: '20px 0', color: 'green' }}\r\n        >\r\n          {message}\r\n        </Typography>\r\n      )\r\n    }\r\n  }\r\n\r\n  useEffect(() => dispatch(resetPasswordValidation(token)), [])\r\n\r\n  return (\r\n    <div>\r\n      <Container maxWidth='sm'>\r\n        <Typography variant='h5' align='center' style={{ margin: '20px 0' }}>\r\n          Reset password page\r\n        </Typography>\r\n\r\n        {loading && (\r\n          <Backdrop className={classes.backdrop} open={loading}>\r\n            <CircularProgress color='inherit' />\r\n          </Backdrop>\r\n        )}\r\n\r\n        {resetPasswordSuccess && (\r\n          <form onSubmit={handleSubmit}>\r\n            <FlexDiv>\r\n              <Typography\r\n                variant='subtitle1'\r\n                align='center'\r\n                style={{ margin: '20px 0', color: 'green' }}\r\n              >\r\n                {resetPasswordSuccess}\r\n              </Typography>\r\n\r\n              <TextField\r\n                fullWidth\r\n                label='New Password'\r\n                type='password'\r\n                variant='standard'\r\n                name='password'\r\n                value={password}\r\n                onChange={handleChange}\r\n                className={classes.inputField}\r\n              />\r\n\r\n              <TextField\r\n                fullWidth\r\n                label='Confirm Password'\r\n                type='password'\r\n                variant='standard'\r\n                name='confirmPassword'\r\n                value={confirmPassword}\r\n                onChange={handleChange}\r\n                className={classes.inputField}\r\n              />\r\n\r\n              <StyledButton\r\n                style={{ margin: '20px auto' }}\r\n                primary\r\n                type='submit'\r\n              >\r\n                Submit\r\n              </StyledButton>\r\n            </FlexDiv>\r\n          </form>\r\n        )}\r\n\r\n        {displayError()}\r\n        {displaySuccess()}\r\n\r\n        {resetPasswordError && (\r\n          <Typography\r\n            variant='subtitle1'\r\n            align='center'\r\n            style={{ margin: '20px 0', color: 'red' }}\r\n          >\r\n            {resetPasswordError}\r\n          </Typography>\r\n        )}\r\n      </Container>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PasswordReset\r\n","import { ThemeProvider } from '@material-ui/styles'\r\nimport React, { useEffect } from 'react'\r\nimport SuccessMessage from './components/snackBars/SuccessMessage'\r\nimport ErrorMessage from './components/snackBars/ErrorMessage'\r\nimport Map from './Map'\r\nimport theme from './theme'\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\r\nimport PasswordReset from './pages/PasswordReset'\r\nimport { useDispatch } from 'react-redux'\r\nimport { windowResizer } from './redux/reducers/mapSlice'\r\n\r\nconst App = () => {\r\n  const dispatch = useDispatch()\r\n\r\n  const handleResize = () => {\r\n    return dispatch(windowResizer(window.innerWidth))\r\n  }\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('resize', handleResize)\r\n    return () => window.removeEventListener('resize', handleResize)\r\n  }, [])\r\n\r\n  return (\r\n    <Router>\r\n      <ThemeProvider theme={theme}>\r\n        <Switch>\r\n          <Route path='/' exact component={Map} />\r\n          <Route\r\n            path='/password-reset/:token'\r\n            exact\r\n            component={PasswordReset}\r\n          />\r\n        </Switch>\r\n\r\n        <SuccessMessage />\r\n        <ErrorMessage />\r\n      </ThemeProvider>\r\n    </Router>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport { store } from './redux/store'\nimport { Provider } from 'react-redux'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}